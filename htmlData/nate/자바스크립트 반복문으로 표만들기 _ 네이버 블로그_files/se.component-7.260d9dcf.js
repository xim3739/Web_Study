webpackJsonpSmartEditorViewer([25],{538:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.OglinkComponent=undefined;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();var r=n(190);function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function a(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var l=e.OglinkComponent=function(t){u(e,t);function e(t){var n=t.initData,i=t.config,r=t.injectionData,u=t.instanceStatus;o(this,e);var l=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u));l._initVar(n,i,r);l.__ON_READY_COMPONENT__("oglink");return l}i(e,[{key:"_initVar",value:function n(t,e,i){this._config=e||{};this._injectionData=i||{};if(!this._shouldChange(t,e)){return}this._htData=t;this._$elWrap=$jq("#"+t.viewId);this._$elThumbArea=this._$elWrap.find(".se_og_thumb");this._bindEvent()}},{key:"_shouldChange",value:function r(t,e){var n=e.SERVICE_ID==="blog";return n&&t.isVideo&&t.thumbnail&&this._isYoutube(t.link)}},{key:"_isYoutube",value:function l(t){if(t.indexOf("youtube")>=0){return true}}},{key:"_bindEvent",value:function f(){this._$elThumbArea.on("click",this._onClickThumb.bind(this))}},{key:"_onClickThumb",value:function s(){if(this._htData.link.indexOf("v=")<0){return}var t=this._htData.link.split("v=")[1].split("&")[0];var e="https://www.youtube.com/embed/"+t;var n=$jq("<iframe src='"+e+"?autoplay=1&autohide=1' frameborder='0' style='position:absolute;top:0;left:0;width:100%;height:100%'/>");this._$elThumbArea.append(n);this._bindEventAfterReplace();return false}},{key:"_bindEventAfterReplace",value:function c(){this._$elThumbArea.find("iframe").on("load",function(){this.emit("onLoadOglink",this._htData)}.bind(this))}}]);return e}(r.AbstractComponent);e["default"]=l}});