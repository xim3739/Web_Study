/*!
 * 
 * Copyright (c) 2019 photo-platform
 * @photo-platform/image-viewer project is licensed under the MIT license
 * @photo-platform/image-viewer JavaScript library
 * 
 * @version 0.0.35
 * 
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).ImageViewer=e()}(this,function(){"use strict";var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var h=function(){return(h=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t){return void 0===t}var r=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var i=this._eventHandler[t]||[];if(!(0<i.length))return!0;i=i.concat(),e.eventType=t;var n=!1,r=[e],o=0;e.stop=function(){n=!0},e.currentTarget=this;for(var s=arguments.length,a=new Array(2<s?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];for(1<=a.length&&(r=r.concat(a)),o=0;i[o];o++)i[o].apply(this,r);return!n},e.once=function(r,o){if("object"==typeof r&&a(o)){var t,e=r;for(t in e)this.once(t,e[t]);return this}if("string"==typeof r&&"function"==typeof o){var s=this;this.on(r,function t(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];o.apply(s,i),s.off(r,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&a(e)){var i,n=t;for(i in n)this.on(i,n[i]);return this}if("string"==typeof t&&"function"==typeof e){var r=this._eventHandler[t];a(r)&&(this._eventHandler[t]=[],r=this._eventHandler[t]),r.push(e)}return this},e.off=function(t,e){if(a(t))return this._eventHandler={},this;if(a(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var i,n=t;for(i in n)this.off(i,n[i]);return this}var r,o,s=this._eventHandler[t];if(s)for(r=0;void 0!==(o=s[r]);r++)if(o===e){s=s.splice(r,1);break}return this},t}();return t.VERSION="2.1.2",t}(),u=void 0!==u&&u.Math===Math?u:"undefined"!=typeof self&&(self.Math===Math?self:Function("return this")()),f=u.document;function l(t,e){var i,n=new RegExp("("+e+")\\s([\\d_\\.]+|\\d_0)","i");n.exec(t)&&(i=n.exec(t)[2].replace(/_/g,".").replace(/;|\)/g,"")),i||(i="999");var r;return parseFloat(1===(r=i.split(".")).length?r[0]:[r[0],r.slice(1).join("")].join("."))}function d(){return window.innerWidth<window.innerHeight}function o(){var t=window.devicePixelRatio||1,e=innerWidth*t+"x"+innerHeight*t;return-1<["750x1498","1125x2244","1242x2496"].indexOf(e)}var p,t,g=/(iPad|iPhone|iphone|iPod).*?(OS |os |OS)(\d+((_|\.)\d)?((_|\.)\d)?)/,v=/MSIE|Trident|Windows Phone/,m=/Android/;(t=p||(p={})).ANDROID="android",t.IOS="ios",t.IE="ie",t.UNKNOWN="unknown";var e=null,_=function(t){return(t||null===e)&&(e=function(t){var e,i,n,r,o,s,a={isNaverApp:!!(/NAVER/.test(t)||window.g_inapp&&1===window.g_inapp),type:p.UNKNOWN,isAndroid:!1,isIOS:!1,cssPrefix:(n="",void 0!==document.body.style.webkitTransition&&(n="webkit"),{transition:n?n+"Transition":"transition",transform:n?n+"Transform":"transform",transformOrigin:n?n+"TransformOrigin":"transformOrigin",transitionEnd:n?n+"TransitionEnd":"transitionend"}),usePushState:!0,useCss3d:!0,supportBrowser:(e=t,i={whale:/Whale/,edge:/Edge/,chrome:/Chrome|CriOS/,safari:/Apple|iPhone|iPad/,firefox:/Firefox/,samsung:/SAMSUNG |SamsungBrowser/},Object.keys(i).some(function(t){return i[t].test(e)}))};if(m.test(t)){var c=l(t,"Android");a=h({},a,{version:c,type:p.ANDROID,isAndroid:!0,supportBrowser:4.4<=c,useDominantColor:6<=c,isLowerAndroidBrowserVersion:c<6})}else if(g.test(t)){c=l(t,"iPhone OS|CPU OS");a=h({},a,{version:c,type:p.IOS,isIOS:!0,isTouchHomeButtonIOS:(s=null,null===s&&(r=window.devicePixelRatio||1,o=window.screen.width*r+"x"+window.screen.height*r,s=-1<["1125x2436","1242x2688","750x1624"].indexOf(o)),s),supportBrowser:9<=c,useDominantColor:10<=c,usePushState:!a.isNaverApp})}else v.test(t)&&(a=h({},a,{type:p.IE}));return a}(t||navigator.userAgent)),e};function y(t){return[].slice.call(t)}function c(t){return t&&t.constructor===Array}function b(t){return t&&!t.nodeType&&"object"==typeof t&&!c(t)}function E(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!t.length||1===t.length&&!t[0])return i;var n=t.shift();return b(i)&&b(n)&&Object.keys(n).forEach(function(t){var e=n[t];b(e)?(!i[t]&&(i[t]={}),i[t]=E(i[t],e)):i[t]=c(e)?e.concat():e}),E.apply(void 0,[i].concat(t))}function T(t,e){return function t(e,i){return null==e?null:0===i.length?e:t(e[i.shift()],i)}(t,e.match(/[^.]+/g)||[])}function I(t,n,e){var r=e;return function(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)}(t,function(t,e,i){r=void 0===r?t:n(r,t,e,i)}),r}var x=function(t){return _().cssPrefix[t]||t};function A(t){return _().useCss3d?"translate3d(0, "+t+"px, 0)":"translate(0, "+t+"px, 0)"}function i(t,e){var i=e?"block":"none";c(t)?t.forEach(function(t){return t.style.display=i}):t.style.display=i}function P(t){return i(t,!0),t}function w(t){return i(t,!1),t}function O(t,e,i){if(void 0===i&&(i=!1),t){if("string"==typeof e){var n=u.getComputedStyle(t)[x(e)];return i?this.getNumValue(n):n}var r=function(e,i){return Object.keys(i).forEach(function(t){e[x(t)]=i[t]})};c(t)?t.forEach(function(t){return r(t.style,e)}):r(t.style,e)}return t}function C(t,e,i){var n,r="boolean"==typeof i;return t.classList?n=t.classList[r&&(i?"add":"remove")||"contains"](e):(n=t.className,r?i&&-1===n.indexOf(e)?(t.className=(n+" "+e).replace(/\s{2,}/g," "),n=t.className):i||(t.className=n.replace(e,""),n=t.className):n=new RegExp("\\b"+e+"\\b").test(n)),n}function D(t,e){return 0<=t.className.indexOf(e)}function N(e,i,n){var r=function(t){n(t),e.removeEventListener(i,r)};e.addEventListener(i,r)}var S=null;function k(){return S||(S=f.documentElement||f.body.parentNode||f.body),S}function R(){var t=k(),e={scrollLeft:t.scrollLeft||f.body.scrollLeft||0,scrollTop:t.scrollTop||f.body.scrollTop||0};return h({},e,{x:e.scrollLeft,y:e.scrollTop})}function L(t,e,i){var n=R(),r=n.scrollLeft,o=n.scrollTop,s=e.left,a=e.top,c=e.width,u=e.height;return O(t,h({},i||{},{left:s+r+"px",top:a+o+"px",width:c+"px",height:u+"px"})),t}function M(t,e){var i=Element.prototype,n=i.matches||i.msMatchesSelector||i.webkitMatchesSelector,r=t;if(!f.documentElement.contains(t))return null;do{if(n.call(r,e))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null}function H(n,t,e,i){var r,o;if((e&&("function"==typeof e?o=e:(r=e,i&&(o=i))),r)&&I(r,function(t,e,i){return t&&n.style[i]===e},!0))return void(o&&o());C(n,t,!0),N(n,x("transitionEnd"),function(){C(n,t,!1),o&&o()}),r&&O(n,h({},r))}function B(t,e){return{x:t.x-e.x,y:t.y-e.y}}var U=function(t,e,i){var n="string"==typeof t,r=n?new Image:t,o=n?t:r.getAttribute("data-src"),s=function(){r.removeAttribute("data-src"),c(),e&&e(o)},a=function(){c(),i&&i(o)},c=function(){r.removeEventListener("load",s),r.removeEventListener("error",a)};null!==o&&(r.addEventListener("load",s),r.addEventListener("error",a),r.src=o)},z=function(){var t=_(),e=t.isAndroid,i=t.version;if(e&&i<5)return!1;var n=document.createElement("canvas");return n.width=n.height=1,!!n.toDataURL&&5===n.toDataURL("image/webp").indexOf("image/webp")}();function F(t,e){var i;if(void 0===e&&(e=z),c(t)){var n=t.slice();i=2===n.length?z?n.shift():n.pop():n.shift()}else i=t;return i}var V=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s(n,t),n.start=function(t,e,i){U(n.loadingSrc=t,function(t){n.loadingSrc=null,e(t)},function(){n.loadingSrc=null,i&&i()})},n.getCurrentImageSrc=function(){return n.loadingSrc},n.loadingSrc=null,n}(r);function j(t){return void 0===t&&(t=[]),t.map(function(t){return"string"==typeof t?{thumbUrl:t,orgUrl:t,indexThumbUrl:t,selector:"img[src='"+t+"']",imgType:""}:h({},t,{orgUrl:t.orgUrl||t.thumbUrl,indexThumbUrl:t.indexThumbUrl||t.thumbUrl,imgType:t.imgType?t.imgType.toLowerCase():""})})}function X(t,e){return!(!c(t)||-1===t.indexOf(e))||e===t}var G=function(i){function t(t){var e=i.call(this)||this;return e.events=["add","setat","removeat","indexChanged"],e.data=[],e.index=-1,e.add(t,0),e}return s(t,i),t.prototype.setIndex=function(t,e){if(t<0||t>this.data.length-1)return this.index;var i=this.index;return e||i===t?-1:(this.index=t,this.trigger(Pn.INDEX_CHANGE,{oldIndex:i,newIndex:t,dataSet:this.dataSet}),this.index)},t.prototype.getIndex=function(){return this.index},t.prototype.movePrev=function(t){return this.setIndex(this.index-1,t)},t.prototype.moveNext=function(t){return this.setIndex(this.index+1,t)},t.prototype.isFirst=function(){return 0===this.index},t.prototype.isLast=function(){return this.index+1===this.length},t.prototype.add=function(t,e){var i,n=j(t||[]);(i=this.data).splice.apply(i,[e,0].concat(n)),this.trigger(Pn.DATA_CHANGE)},t.prototype.get=function(t){return this.data[t]||null},t.prototype.getIndexByUrl=function(t){for(var e=0;e<this.data.length;e++){if(X(this.data[e].thumbUrl,t))return e;if(X(this.data[e].orgUrl,t))return e;if(X(this.data[e].indexThumbUrl,t))return e}return-1},t.prototype.set=function(t,e){var i=j([e]);this.data[t]=i[0],this.trigger(Pn.DATA_CHANGE)},t.prototype.remove=function(t){t?this.data.splice(t,1):(this.data=[],this.index=-1),this.index>=this.data.length&&this.setIndex(this.data.length-1),this.trigger(Pn.DATA_CHANGE)},t.prototype.getData=function(){return this.data},t.prototype.getCurrent=function(){return this.get(this.index)},Object.defineProperty(t.prototype,"length",{get:function(){return this.data.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSet",{get:function(){var t=this.getIndex();return{prev:this.data[t-1]||null,current:this.data[t],next:this.data[t+1]||null}},enumerable:!0,configurable:!0}),t.prototype.setDominantColor=function(e,i){this.data.forEach(function(t){t.thumbUrl===e&&(t.dominantColor=i.join("|"))})},t}(r),W={ROOT:"civ",FADEOUT:"fadeout",FADEIN:"fadein",FADEHIDE:"fadehide",RESTORE:"restore",BUILD_IN:"anim-in",BUILD_OUT:"anim-out",CAPTION_DESC:"civ__caption",CAPTION_SVCNAME:"civ__category",CAPTION_TITLE:"civ__title",CLOSE_BUTTON:"civ__header__btn--close",FLICK_PANEL:"civ__panel",FLICK_PANEL_INDEX:"civ__panel--index",FLICK_PANEL_ACTIVE:"civ__panel--active",GHOST_IMAGE:"_CV_Ghost",HEADER_BUTTON:"civ__header__btn",HEADER_CLOSE_BUTTON:"civ__header__btn--close",HIDDEN:"civ__is-hidden",HIDE:"civ__is-closed",HUD_BOTTOM:"civ__info",HUD_BOTTOM_CAPTION:"civ__info_inner",HUD_BOTTOM_TOOLBAR:"civ__toolbar",HUD_BOTTOM_TOOLBAR_LIST:"civ__list",HUD_HEADER:"civ__header",HUD_HEADER_BUTTON:"civ__header__btn_wrap",HUD_HEADER_INDICATOR:"civ__header__number",ICON:"civ__icon",IMAGE_INDEX_FAIL:"civ__thumb--fail",IMAGE_INDEX_LOADED:"civ__thumb--transparent",IMAGE_INDEX_FOCUS:"civ__thumb--focused",IMAGE_INDEX_DEFAULT:"civ__thumb--default",IMAGE_INDEX_LOADING:"civ__thumb--loading",IMAGE_INDEX_LOADING_ICON:"civ__placeholder--loading",IMAGE_INDEX_LONG:"civ__thumb-img--long",IMAGE_INDEX_SCROLL:"civ__index .civ__thumbs",IMAGE_INDEX_WRAP:"civ__index",IMAGE_PANEL:"civ__content",IMAGE_PANEL_LOADING:"civ__placeholder--loading",IMAGE_ITEM:"civ__img",IMAGE_WRAP:"civ__img_wrap",IMAGE_TRANSPARENT_BG:"civ__img--transparent-bg",IMAGE_WILL_CHANGE:"civ__img--will_change",INDEX_INDICATOR_CURRENT:"civ__current",INDEX_INDICATOR_TOTAL:"civ__length",INDEX_THUMB_IMAGE:"civ__thumb",LINK:"civ__url_link",LINK_TEXT:"civ__url",LINK_WRAP:"civ__url_wrap",RELOAD_BTN:"civ__btn--refresh",SHARE_BUTTON:"civ__header__btn--share",TOAST:"civ__toast",TOUCH_HOME_BUTTON:"touch-home-button",TRANSFORM_TWEEN:"civ__tween--transform",BACKGROUND_TWEEN:"civ__tween--background",NOT_SUPPORT_CLOSE:"civ__btn--close"},Y=Object.keys(W).reduce(function(t,e){return t[e]="."+W[e],t},{}),q="이미지 불러 오지 못했습니다.<br>새로 고침 해주세요.",$="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",K="naverapp://fullscreen?top=show&bottom=show",Z="naverapp://fullscreen",Q=2e3,J=20,tt=[27,27,30],et=40,it=300,nt=20,rt=92,ot=2,st=12,at=8,ct=34,ut=22,ht=20,lt='\n    <div class="civ" style="background-color:#1b1b1e; display:none">\n    <div class="civ__content">\n    <div class="civ__placeholder--browser">\n        <div class="civ__error_area">\n            <i class="civ__icon--cation">경고</i>\n            <p class="civ__text">사용 중인 브라우저는 이미지 뷰어 기능을<br>지원하지 않습니다.</p>\n            <a href="#" role="button" class="'+W.NOT_SUPPORT_CLOSE+'">닫기</a>\n        </div>\n    </div>\n    <div>\n    </div>\n    ',pt=function(i){function t(t){void 0===t&&(t={});var e=i.call(this)||this;return e.onResize=function(){u.clearTimeout(e.timer),e.timer=u.setTimeout(e.resize.bind(e),100)},e.closeNotSupportButtonHandler=function(t){t.preventDefault(),e.close()},e._options=E({},t),e.initialize(),e}return s(t,i),t.prototype.initialize=function(){this.root=this._options.root,this.list=this._options.list,this.rootOverflow=O(this.root,"overflow");var t=f.createElement("div");t.innerHTML=lt;var e=t.querySelector(Y.ROOT);this.root.appendChild(e),this.el=e,this.attachEvent()},t.prototype.attachEvent=function(){this.el.querySelector(Y.NOT_SUPPORT_CLOSE).addEventListener("click",this.closeNotSupportButtonHandler),u.addEventListener("orientationchange",this.onResize),u.addEventListener("resize",this.onResize)},t.prototype.detachEvent=function(){this.el.querySelector(Y.NOT_SUPPORT_CLOSE).removeEventListener("click",this.closeNotSupportButtonHandler),u.removeEventListener("resize",this.onResize),u.removeEventListener("orientationchange",this.onResize)},t.prototype.resize=function(){O(this.el,{height:u.innerHeight+2+"px"})},t.prototype.open=function(){O(this.list,{overflow:"hidden",visibility:"hidden",height:0}),this.resize(),P(this.el),this.trigger(Pn.OPEN)},t.prototype.close=function(){O(this.list,{visibility:"visible",overflow:"visible",height:null}),w(this.el),this.trigger(Pn.CLOSE)},t.prototype.destroy=function(){this.detachEvent()},t}(r);var ft=function(t,a,c,u){void 0===a&&(a=.01);var e,i,n,h=new Image,r=(e="cors",i="image_viewer",n=t,n+=/\?/.test(n)?"&":"?",n+=[encodeURIComponent(e),"=",encodeURIComponent(i)].join(""));h.crossOrigin="Anonymous",h.setAttribute("data-src",r),U(h,function(){var t,e,i,n=h.width*a,r=h.height*a;(n<3&&r<4||r<3&&n<4)&&(n*=2,r*=2),8<n&&(r=Math.max(8*r/n,1),n=8),8<r&&(n=Math.max(8*n/r,1),r=8);try{var o=(t=n,e=r,(i=document.createElement("canvas")).setAttribute("width",t),i.setAttribute("height",e),i.getContext("2d"));o.drawImage(h,0,0,n,r);var s=function(t){for(var e=0,i=0,n=0,r=t.length/4,o=0;o<t.length;o+=4){var s=Array.from(t.subarray(o,o+3));e+=s[0],i+=s[1],n+=s[2]}return[Math.round(e/r),Math.round(i/r),Math.round(n/r)]}(o.getImageData(0,0,n,r).data);c&&c(s)}catch(t){u&&u()}},u)},dt=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n}return t.prototype.fromClientRect=function(t){this.x=t.left,this.y=t.top,this.width=t.width,this.height=t.height},t.prototype.fromTLBR=function(t,e,i,n){this.top=t,this.left=e,this.bottom=i,this.right=n},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){this._height=t-this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},set:function(t){this._width=t-this._x},enumerable:!0,configurable:!0}),t}();"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function gt(t,e){return t(e={exports:{}},e.exports),e.exports}var vt,mt=gt(function(t,e){var i;i=function(i){return function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,i){var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n};t.exports=o.default},function(t,e,i){e.__esModule=!0;var n,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=i(2),a=(n=s)&&n.__esModule?n:{default:n},c=i(3);"function"!=typeof Object.create&&(Object.create=function(t,e){if("object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");function i(){}return i.prototype=t,new i});var u=!!window.IntersectionObserver,h=function(){var t=document.createElement("div");if(!t.getElementsByClassName)return!1;var e=t.getElementsByClassName("dummy");return t.innerHTML="<span class='dummy'></span>",1===e.length}(),l=function(n){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this));return i.options={targetClass:"check_visible",expandSize:0},o(i.options,e),i._wrapper=(0,c.$)(t)||document,i._wrapper.nodeType&&1===i._wrapper.nodeType?i._getAreaRect=i._getWrapperRect:i._getAreaRect=c.getWindowRect,i._targets=[],i._timer=null,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n),r.prototype.refresh=function(){return this.refresh=h?(this._targets=this._wrapper.getElementsByClassName(this.options.targetClass),function(){return this._refreshObserver(),this}):function(){var t=this._wrapper.querySelectorAll("."+this.options.targetClass);this._targets=[];for(var e=0;e<t.length;e++)this._targets.push(t[e]);return this._refreshObserver(),this},this.refresh()},r.prototype.check=function(){var t=this,e=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1];return"number"!=typeof e&&(i=e,e=-1),void 0===e&&(e=-1),void 0===i&&(i=!1),clearTimeout(this._timer),e<0?(this._check(i),this._checkAfter()):this._timer=setTimeout(function(){t._check(i),t._checkAfter(),t._timer=null},e),this},r.prototype._getWrapperRect=function(){return this._wrapper.getBoundingClientRect()},r.prototype._reviseElements=function(){var i=this;return this._reviseElements=h?function(){return!0}:function(t,e){return!!(0,c.hasClass)(t,i.options.targetClass)||(t.__VISIBLE__=null,i._targets.splice(e,1),!1)},this._reviseElements.apply(this,arguments)},r.prototype._check=function(t){var e=parseInt(this.options.expandSize,10),i=void 0,n=void 0,r=void 0,o=void 0,s=this._getAreaRect(),a=s.top-e,c=s.left-e,u=s.bottom+e,h=s.right+e;for(i=this._targets.length-1;n=this._targets[i];i--)0===(r=n.getBoundingClientRect()).width&&0===r.height||this._reviseElements(n,i)&&(o=t?!(r.top<a||r.bottom>u||r.right>h||r.left<c):!(r.bottom<a||u<r.top||r.right<c||h<r.left),n.__AFTER__=o)},r.prototype.checkObserve=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;return this._timer&&(clearTimeout(this._timer),this._timer=0),e<0?this._checkAfter():this._timer=setTimeout(function(){t._checkAfter(),t._timer=null},e),this},r.prototype._checkAfter=function(){for(var t=this._targets,e=t.length,i=[],n=[],r=0;r<e;++r){var o=t[r],s=o.__VISIBLE__,a=o.__AFTER__;s!==a&&(a?i.push(o):n.push(o),o.__VISIBLE__=a)}0===i.length&&0===n.length||this.trigger("change",{visible:i,invisible:n,isTrusted:!0})},r.prototype.observe=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!u)return this._addObserveEvent(t),this;var i=void 0===t.delay?-1:t.delay,n=!!t.containment;this._observeCallback=function(t){t.forEach(function(t){t.target.__AFTER__=n?1<=t.intersectionRatio:t.isIntersecting}),e._checkAfter(i)},this._observer&&this.unobserve(),this._observer=new IntersectionObserver(this._observeCallback,{root:1===this._wrapper.nodeType?this._wrapper:null,rootMargin:this.options.expandSize+"px",threshold:n?[0,1]:[0]});for(var r=this._observer,o=this._targets,s=o.length,a=0;a<s;++a)r.observe(o[a]);return this},r.prototype.unobserve=function(){return this._observeCallback&&(u?this._observer&&this._observer.disconnect():((0,c.removeEvent)(this._wrapper,"scroll",this._observeCallback),(0,c.removeEvent)(this._wrapper,"resize",this._observeCallback)),this._observer=null,this._observeCallback=null),this},r.prototype._refreshObserver=function(){if(this._observer){this._observer.disconnect();for(var t=this._targets,e=t.length,i=0;i<e;++i)this._observer.observe(t[i])}},r.prototype._addObserveEvent=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this._observeCallback){var i=void 0===t.delay?-1:t.delay,n=!!t.containment;this._observeCallback=function(t){e._check(n),e.checkObserve(i)},(0,c.addEvent)(this._wrapper,"scroll",this._observeCallback),(0,c.addEvent)(this._wrapper,"resize",this._observeCallback),this._observeCallback()}},r.prototype.destroy=function(){this.off(),this.unobserve(),this._targets=[],this._wrapper=null,this._timer=null},r}(a.default);l.VERSION="2.1.0",e.default=l,t.exports=e.default},function(t,e){t.exports=i},function(t,e,i){e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.toArray=c,e.$=function e(t){var i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];var n=void 0;if(void 0===t)return;if("string"==typeof t){var r=t.match(/^<([a-z]+)\s*([^>]*)>/);if(r){var o=document.createElement("div");o.innerHTML=t,n=c(o.childNodes)}else n=c(document.querySelectorAll(t));i||(n=1<=n.length?n[0]:void 0)}else t===window?n=t:!t.nodeName||1!==t.nodeType&&9!==t.nodeType?"jQuery"in window&&t instanceof jQuery||t.constructor.prototype.jquery?n=i?t.toArray():t.get(0):Array.isArray(t)&&(n=t.map(function(t){return e(t)}),i||(n=1<=n.length?n[0]:void 0)):n=t;return n},e.getWindowRect=function(){return{top:0,left:0,bottom:document.documentElement.clientHeight||document.body.clientHeight,right:document.documentElement.clientWidth||document.body.clientWidth}},e.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},e.addEvent=function(t,e,i,n){if(s){var r=n||!1;"object"===(void 0===n?"undefined":o(n))&&(r=!!a&&n),t.addEventListener(e,i,r)}else t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},e.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null};var s=!!("addEventListener"in document),a=function(){var t=!1;try{s&&Object.defineProperty&&document.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(t){}return t}();function c(t){var e=[];if(t)for(var i=0,n=t.length;i<n;i++)e.push(t[i]);return e}}])},t.exports=i(r)}),_t=(vt=mt)&&vt.__esModule&&Object.prototype.hasOwnProperty.call(vt,"default")?vt.default:vt,yt=function(e){function r(t){var n=e.call(this)||this;return n.root=t,n.visibility=!1,n.listeners={},n._currentIndex=-1,n._activated=!0,n._imageDataList=null,n._itemWidth=0,n._scrollAreaWidth=0,n._isChange=!1,n.onClickImage=function(t){t.preventDefault();var e=M(t.target,"li"),i=parseInt(e.getAttribute("data-index"),10);n.trigger("click",{listIndex:i}),n.reloadFailedImage()},n.onVisibleChange=function(t){t.visible.filter(function(t){return D(t,W.IMAGE_INDEX_DEFAULT)}).forEach(n.imageLoadHandler)},n.imageLoadHandler=function(t){var e=t.querySelector("img");C(t,W.IMAGE_INDEX_FAIL,!1),C(t,W.IMAGE_INDEX_LOADING,!0),U(e,function(){r.imgAfterLoadHandler(t,!1)},function(){r.imgAfterLoadHandler(t,!0)})},n.prepare(),n}return s(r,e),r.prototype.activate=function(){this._activated||(P(this.element),this._activated=!0,this._isChange=!1)},r.prototype.deactivate=function(){this._activated&&(w(this.element),C(this.element,W.HIDE,!0),this.visibility&&(this.visibility=!1,this.trigger("hide")),this.refreshBottomPadding(),this.visibility=!1,this._activated=!1)},r.prototype.show=function(){var t=this;this.visibility||this._isChange||(this.visibility=!0,P(this.element),this.trigger("show"),H(this.element,W.HIDE,function(){t._visibleChecker.check(),t.scrollTo(t.currentIndex),t.updateBgColor(t.bgColor,!0),t._isChange=!1,t.refreshBottomPadding()}),C(this.element,W.HIDE,!1),this._isChange=!0)},r.prototype.hide=function(){var t=this;this.visibility&&(this._isChange||(this.visibility=!1,this.trigger("hide"),N(this.element,x("transitionEnd"),function(){0<=t.element.className.indexOf(W.HIDE)&&w(t.element),t._isChange=!1,t.trigger("hided")}),C(this.element,W.HIDE,!0),this._isChange=!0))},r.prototype.toggle=function(t){var e,i;e=this.visibility,(void 0!==(i=t)?i:!e)?this.show():this.hide()},r.prototype.refresh=function(){this.visibility&&(this.scrollTo(this.currentIndex),this._visibleChecker.check(),this.refreshBottomPadding())},r.prototype.refreshBottomPadding=function(){var t=_(),e=t.isNaverApp,i=t.isTouchHomeButtonIOS;this.visibility&&d()&&i&&(e||o())?O(this.element,{bottom:ct+"px"}):O(this.element,{bottom:0})},r.prototype.getElement=function(){return this.element},Object.defineProperty(r.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){t<0||(this._currentIndex=t,this.visibility&&this.scrollTo(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"imageDataList",{get:function(){return this._imageDataList},set:function(t){this._imageDataList=t||null,this._imageDataList&&this._imageDataList.length?(this.scrollArea.innerHTML=this._imageDataList.map(function(t,e){var i=t.imgType;return'\n      <li class="civ__thumb civ__thumb--default '+(i?"civ__thumb--"+i:"")+'" data-index="'+e+'">\n        <a href="#" class="civ__thumb-link">\n            <img data-src="'+F(t.indexThumbUrl)+'" class="civ__thumb-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" width="100%" height="100%">\n        </a>\n        <div class="civ__placeholder--loading">\n            <span class="civ__dot"></span>\n            <span class="civ__dot civ__dot1"></span>\n            <span class="civ__dot civ__dot2"></span>\n        </div>\n      </li>'}).join(""),this.currentIndex=this._currentIndex,this._visibleChecker.check()):this.scrollArea.innerHTML=""},enumerable:!0,configurable:!0}),r.getBgChangeElement=function(){var t=document.querySelectorAll(Y.INDEX_THUMB_IMAGE);return t?y(t).filter(function(t){return t.classList.contains(W.IMAGE_INDEX_FAIL)}):[]},r.prototype.focusImage=function(t){var e=W.IMAGE_INDEX_FOCUS,i=this.scrollArea,n=i.querySelector("li."+e),r=i.querySelector("li:nth-child("+(t+1)+")");n&&C(n,e,!1),r&&C(r,e,!0)},r.prototype.scrollTo=function(t){if(null!==this.imageDataList){var e=ot,i=nt,n=0<this._scrollAreaWidth?this._scrollAreaWidth:this.scrollArea.offsetWidth,r=0<this._itemWidth?this._itemWidth:this.scrollArea.querySelector("li:nth-child(1)").offsetWidth+e;this._itemWidth=r,this._scrollAreaWidth=n;var o=t*r+i;this.scrollArea.scrollLeft=o-n/2+r/2,this.focusImage(t)}},r.prototype.updateVisibleWidth=function(){var t=k().offsetWidth;this._visibleChecker.options.expandSize=t,this._scrollAreaWidth=-1,this._itemWidth=-1},r.prototype.updateBgColor=function(e,i){this.visibility?r.getBgChangeElement().forEach(function(t){i&&H(t,W.BACKGROUND_TWEEN),O(t,{backgroundColor:"rgb("+e.join(",")+")"})}):this.bgColor=e},r.prototype.destroy=function(){this.hide(),this.unbindEvents()},r.prototype.prepare=function(){this.element=this.root.querySelector(Y.IMAGE_INDEX_WRAP),this.scrollArea=this.root.querySelector(Y.IMAGE_INDEX_SCROLL),this._visibleChecker=new _t(this.scrollArea,{targetClass:W.INDEX_THUMB_IMAGE}),this.updateVisibleWidth(),this.bindEvents()},r.prototype.bindEvents=function(){var t,e,i,n,r,o=this,s={onIndexScroll:function(){return o._visibleChecker.check()},onClickImage:this.onClickImage,onVisibleChange:this.onVisibleChange},a=this.scrollArea;s.onClickImage=(t=a,e="click",i="li",n=this.onClickImage,r=function(t){M(t.target,i)&&n(t)},t.addEventListener(e,r),r),a.addEventListener("scroll",s.onIndexScroll),this._visibleChecker.on("change",s.onVisibleChange),this.listeners=s},r.prototype.unbindEvents=function(){var t=this.listeners,e=this.scrollArea;e.removeEventListener("click",t.onClickImage),e.removeEventListener("scroll",t.onIndexScroll),this._visibleChecker.off("change",t.onVisibleChange),this.listeners={}},r.prototype.reloadFailedImage=function(){this.scrollArea.querySelectorAll(Y.IMAGE_INDEX_FAIL).forEach(this.imageLoadHandler)},r.imgAfterLoadHandler=function(t,e){var i=t.querySelector("img");if(i){var n=i.naturalHeight,r=i.naturalWidth;C(i,W.IMAGE_INDEX_LONG,r<n)}e&&C(t,W.IMAGE_INDEX_FAIL,!0),C(t,W.IMAGE_INDEX_LOADING,!1),C(t,W.IMAGE_INDEX_DEFAULT,!1),C(t,W.IMAGE_INDEX_LOADED,!e)},r}(r),bt=function(){function r(){this.timer=null}return r.init=function(t){var e=W.TOAST,i=W.HIDE,n=f.createElement("div");n.className=e+" "+i,t.appendChild(n),r.root=t,r.instance=r.instance||new r},Object.defineProperty(r,"shared",{get:function(){return r.root?r.instance:(console.error("Toast.init 함수를 호출해주세요"),null)},enumerable:!0,configurable:!0}),r.render=function(t){t?r.root.innerHTML=t||"":r.shared.hide()},r.prototype.show=function(t){t&&r.render(t),this.timer=window.setTimeout(r.shared.hide,Q),C(r.root,W.HIDE,!1)},r.prototype.hide=function(){C(r.root,W.HIDE,!0),null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},r.prototype.toggle=function(){C(r.root,W.HIDE)?this.show():this.hide()},r.root=null,r.instance=null,r}(),Et=function(i){function t(t){var e=i.call(this)||this;return e.root=t,e.appendTarget=!1,e.visible=!1,e.onClickReload=function(t){t.preventDefault()},e.prepare(),e}return s(t,i),t.prototype.render=function(t,e){var i=E({},t),n=e||this.root;this.element.innerHTML='<div class="civ__placeholder--error">\n      <div class="civ__error_area">\n          <a href="#" role="button" class="civ__btn--refresh">새로고침</a>\n          <p class="civ__text">'+i.message+"</p>\n      </div>\n  </div>",this.appendTarget||n.appendChild(this.element),this.appendTarget=n,this.visible=!0,this.trigger("render",{renderData:i}),this.element.querySelector(Y.RELOAD_BTN).addEventListener("click",this.onClickReload)},t.prototype.isVisible=function(){return this.visible},t.prototype.close=function(t){void 0===t&&(t=!1),this.visible&&(this.appendTarget&&(this.element.querySelector(Y.RELOAD_BTN).removeEventListener("click",this.onClickReload),this.appendTarget.removeChild(this.element),this.element.innerHTML="",this.trigger("close",{closeViewer:t})),this.appendTarget=!1,this.visible=!1)},t.prototype.prepare=function(){this.element=document.createElement("div")},t}(r);function Tt(){return(Tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function It(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var At,Pt="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign,wt=["","webkit","Moz","MS","ms","o"],Ot="undefined"==typeof document?{style:{}}:document.createElement("div"),Ct="function",Dt=Math.round,Nt=Math.abs,St=Date.now;function kt(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<wt.length;){if((n=(i=wt[o])?i+r:e)in t)return n;o++}}At="undefined"==typeof window?{}:window;var Rt=kt(Ot.style,"touchAction"),Lt=void 0!==Rt;var Mt="compute",Ht="manipulation",Bt="none",Ut="pan-x",zt="pan-y",Ft=function(){if(!Lt)return!1;var e={},i=At.CSS&&At.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return e[t]=!i||At.CSS.supports("touch-action",t)}),e}(),Vt="ontouchstart"in At,jt=void 0!==kt(At,"PointerEvent"),Xt=Vt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Gt="touch",Wt="mouse",Yt=25,qt=1,$t=4,Kt=8,Zt=1,Qt=2,Jt=4,te=8,ee=16,ie=Qt|Jt,ne=te|ee,re=ie|ne,oe=["x","y"],se=["clientX","clientY"];function ae(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function ce(t,e){return typeof t===Ct?t.apply(e&&e[0]||void 0,e):t}function ue(t,e){return-1<t.indexOf(e)}var he=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Mt&&(t=this.compute()),Lt&&this.manager.element.style&&Ft[t]&&(this.manager.element.style[Rt]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var e=[];return ae(this.manager.recognizers,function(t){ce(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(ue(t,Bt))return Bt;var e=ue(t,Ut),i=ue(t,zt);return e&&i?Bt:e||i?e?Ut:zt:ue(t,Ht)?Ht:"auto"}(e.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=ue(n,Bt)&&!Ft[Bt],o=ue(n,zt)&&!Ft[zt],s=ue(n,Ut)&&!Ft[Ut];if(r){var a=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(a&&c&&u)return}if(!s||!o)return r||o&&i&ie||s&&i&ne?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function le(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function pe(t){var e=t.length;if(1===e)return{x:Dt(t[0].clientX),y:Dt(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:Dt(i/e),y:Dt(n/e)}}function fe(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:Dt(t.pointers[i].clientX),clientY:Dt(t.pointers[i].clientY)},i++;return{timeStamp:St(),pointers:e,center:pe(e),deltaX:t.deltaX,deltaY:t.deltaY}}function de(t,e,i){i||(i=oe);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function ge(t,e,i){i||(i=oe);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function ve(t,e){return t===e?Zt:Nt(t)>=Nt(e)?t<0?Qt:Jt:e<0?te:ee}function me(t,e,i){return{x:e/t||0,y:i/t||0}}function _e(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=fe(e)),1<r&&!i.firstMultiple?i.firstMultiple=fe(e):1===r&&(i.firstMultiple=!1);var o,s,a,c,u,h,l=i.firstInput,p=i.firstMultiple,f=p?p.center:l.center,d=e.center=pe(n);e.timeStamp=St(),e.deltaTime=e.timeStamp-l.timeStamp,e.angle=ge(f,d),e.distance=de(f,d),o=i,a=(s=e).center,c=o.offsetDelta||{},u=o.prevDelta||{},h=o.prevInput||{},s.eventType!==qt&&h.eventType!==$t||(u=o.prevDelta={x:h.deltaX||0,y:h.deltaY||0},c=o.offsetDelta={x:a.x,y:a.y}),s.deltaX=u.x+(a.x-c.x),s.deltaY=u.y+(a.y-c.y),e.offsetDirection=ve(e.deltaX,e.deltaY);var g,v,m,_,y=me(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=y.x,e.overallVelocityY=y.y,e.overallVelocity=Nt(y.x)>Nt(y.y)?y.x:y.y,e.scale=p?(g=p.pointers,de((v=n)[0],v[1],se)/de(g[0],g[1],se)):1,e.rotation=p?(m=p.pointers,ge((_=n)[1],_[0],se)+ge(m[1],m[0],se)):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==Kt&&(Yt<a||void 0===s.velocity)){var c=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,h=me(a,c,u);n=h.x,r=h.y,i=Nt(h.x)>Nt(h.y)?h.x:h.y,o=ve(c,u),t.lastInterval=e}else i=s.velocity,n=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o}(i,e);var b=t.element;le(e.srcEvent.target,b)&&(b=e.srcEvent.target),e.target=b}function ye(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=e&qt&&n-r==0,s=e&($t|Kt)&&n-r==0;i.isFirst=!!o,i.isFinal=!!s,o&&(t.session={}),i.eventType=e,_e(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function be(t){return t.trim().split(/\s+/g)}function Ee(e,t,i){ae(be(t),function(t){e.addEventListener(t,i,!1)})}function Te(e,t,i){ae(be(t),function(t){e.removeEventListener(t,i,!1)})}function Ie(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var xe=function(){function t(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){ce(e.options.enable,[e])&&i.handler(t)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Ee(this.element,this.evEl,this.domHandler),this.evTarget&&Ee(this.target,this.evTarget,this.domHandler),this.evWin&&Ee(Ie(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Te(this.element,this.evEl,this.domHandler),this.evTarget&&Te(this.target,this.evTarget,this.domHandler),this.evWin&&Te(Ie(this.element),this.evWin,this.domHandler)},t}();function Ae(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var Pe={pointerdown:qt,pointermove:2,pointerup:$t,pointercancel:Kt,pointerout:Kt},we={2:Gt,3:"pen",4:Wt,5:"kinect"},Oe="pointerdown",Ce="pointermove pointerup pointercancel";At.MSPointerEvent&&!At.PointerEvent&&(Oe="MSPointerDown",Ce="MSPointerMove MSPointerUp MSPointerCancel");var De=function(i){function n(){var t,e=n.prototype;return e.evEl=Oe,e.evWin=Ce,(t=i.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return It(n,i),n.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Pe[n],o=we[t.pointerType]||t.pointerType,s=o===Gt,a=Ae(e,t.pointerId,"pointerId");r&qt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&($t|Kt)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))},n}(xe);function Ne(t){return Array.prototype.slice.call(t,0)}var Se={touchstart:qt,touchmove:2,touchend:$t,touchcancel:Kt},ke=function(e){function i(){var t;return i.prototype.evTarget="touchstart touchmove touchend touchcancel",(t=e.apply(this,arguments)||this).targetIds={},t}return It(i,e),i.prototype.handler=function(t){var e=Se[t.type],i=function(t,e){var i,n,r=Ne(t.touches),o=this.targetIds;if(e&(2|qt)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=Ne(t.changedTouches),a=[],c=this.target;if(n=r.filter(function(t){return le(t.target,c)}),e===qt)for(i=0;i<n.length;)o[n[i].identifier]=!0,i++;i=0;for(;i<s.length;)o[s[i].identifier]&&a.push(s[i]),e&($t|Kt)&&delete o[s[i].identifier],i++;return a.length?[function(t,i,e){for(var n=[],r=[],o=0;o<t.length;){var s=i?t[o][i]:t[o];Ae(r,s)<0&&n.push(t[o]),r[o]=s,o++}return e&&(n=i?n.sort(function(t,e){return t[i]>e[i]}):n.sort()),n}(n.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Gt,srcEvent:t})},i}(xe);var Re={mousedown:qt,mousemove:2,mouseup:$t},Le=function(i){function n(){var t,e=n.prototype;return e.evEl="mousedown",e.evWin="mousemove mouseup",(t=i.apply(this,arguments)||this).pressed=!1,t}return It(n,i),n.prototype.handler=function(t){var e=Re[t.type];e&qt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=$t),this.pressed&&(e&$t&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Wt,srcEvent:t}))},n}(xe),Me=2500,He=25;function Be(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);setTimeout(function(){var t=n.indexOf(i);-1<t&&n.splice(t,1)},Me)}}var Ue=function(){return function(i){function t(t,e){var o;return(o=i.call(this,t,e)||this).handler=function(t,e,i){var n=i.pointerType===Gt,r=i.pointerType===Wt;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(t,e){t&qt?(this.primaryTouch=e.changedPointers[0].identifier,Be.call(this,e)):t&($t|Kt)&&Be.call(this,e)}).call(xt(xt(o)),e,i);else if(r&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),s=Math.abs(i-r.y);if(o<=He&&s<=He)return!0}return!1}.call(xt(xt(o)),i))return;o.callback(t,e,i)}},o.touch=new ke(o.manager,o.handler),o.mouse=new Le(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}return It(t,i),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(xe)}();function ze(t,e,i){return!!Array.isArray(t)&&(ae(t,i[e],i),!0)}var Fe=1;function Ve(t,e){var i=e.manager;return i?i.get(t):t}function je(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Xe=function(){function t(t){void 0===t&&(t={}),this.options=Tt({enable:!0},t),this.id=Fe++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Pt(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(ze(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ve(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},e.dropRecognizeWith=function(t){return ze(t,"dropRecognizeWith",this)||(t=Ve(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(ze(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Ae(e,t=Ve(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(ze(t,"dropRequireFailure",this))return this;t=Ve(t,this);var e=Ae(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return 0<this.requireFail.length},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(e){var i=this,t=this.state;function n(t){i.manager.emit(t,e)}t<8&&n(i.options.event+je(t)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),8<=t&&n(i.options.event+je(t))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Pt({},t);if(!ce(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Ge={domEvents:!1,touchAction:Mt,enable:!0,inputTarget:null,inputClass:null,preset:[],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function We(i,n){var r,o=i.element;o.style&&(ae(i.options.cssProps,function(t,e){r=kt(o.style,e),o.style[r]=n?(i.oldCssProps[r]=o.style[r],t):i.oldCssProps[r]||""}),n||(i.oldCssProps={}))}var Ye=function(){function t(t,e){var i,n=this;this.options=Pt({},Ge,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(jt?De:Xt?ke:Vt?Ue:Le))(i,ye),this.touchAction=new he(this,this.options.touchAction),We(this,!0),ae(this.options.recognizers,function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return Pt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||r&&i!==r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(r=e.curRecognizer=i),o++}},e.get=function(t){if(t instanceof Xe)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(ze(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},e.remove=function(t){if(ze(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=Ae(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return ae(be(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return ae(be(t),function(t){e?i[t]&&i[t].splice(Ae(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){var i,n,r;this.options.domEvents&&(i=t,n=e,(r=document.createEvent("Event")).initEvent(i,!0,!0),(r.gesture=n).target.dispatchEvent(r));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},e.destroy=function(){this.element&&We(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),qe=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Tt({pointers:1},t))||this}It(t,e);var i=t.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(i&Kt||!r)?16|e:n||r?i&$t?8|e:2&e?4|e:2:32},t}(Xe);var $e=function(n){function t(t){var e;return void 0===t&&(t={}),(e=n.call(this,Tt({event:"pan",threshold:10,pointers:1,direction:re},t))||this).pX=null,e.pY=null,e}It(t,n);var e=t.prototype;return e.getTouchAction=function(){var t=this.options.direction,e=[];return t&ie&&e.push(zt),t&ne&&e.push(Ut),e},e.directionTest=function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(n=e.direction&ie?(r=0===o?Zt:o<0?Qt:Jt,i=o!==this.pX,Math.abs(t.deltaX)):(r=0===s?Zt:s<0?te:ee,i=s!==this.pY,Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},e.attrTest=function(t){return qe.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},e.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e,i=(e=t.direction)===ee?"down":e===te?"up":e===Qt?"left":e===Jt?"right":"";i&&(t.additionalEvent=this.options.event+i),n.prototype.emit.call(this,t)},t}(qe),Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};var Ze,Qe=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};Ze="undefined"==typeof window?{}:window;var Je=1e5,ti=function(){if("undefined"==typeof document)return"";for(var t=(document.head||document.getElementsByTagName("head")[0]).style,e=["transform","webkitTransform","msTransform","mozTransform"],i=0,n=e.length;i<n;i++)if(e[i]in t)return e[i];return""}();function ei(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(t[i]);return e}var ii=Ze.requestAnimationFrame||Ze.webkitRequestAnimationFrame,ni=Ze.cancelAnimationFrame||Ze.webkitCancelAnimationFrame;if(ii&&!ni){var ri={},oi=ii;ii=function(e){var i=oi(function(t){ri[i]&&e(t)});return ri[i]=!0,i},ni=function(t){delete ri[t]}}else ii&&ni||(ii=function(t){return Ze.setTimeout(function(){t(Ze.performance&&Ze.performance.now&&Ze.performance.now()||(new Date).getTime())},16)},ni=Ze.clearTimeout);function si(t,e){var i={};for(var n in t)n&&(i[n]=e(t[n],n));return i}function ai(t,e){var i={};for(var n in t)n&&e(t[n],n)&&(i[n]=t[n]);return i}function ci(t,e){for(var i in t)if(i&&!e(t[i],i))return!1;return!0}function ui(t,i){return ci(t,function(t,e){return t===i[e]})}function hi(t){return Math.round(t*Je)/Je}function li(t,e,i,n){var r=t,o=[i[0]?e[0]:n?e[0]-n[0]:e[0],i[1]?e[1]:n?e[1]+n[1]:e[1]];return r=Math.max(o[0],r),+hi(r=Math.min(o[1],r))}function pi(t,e){return t<e[0]||t>e[1]}function fi(t,e,i){return i[1]&&t>e[1]||i[0]&&t<e[0]}function di(t,e,i,n){var r=t,o=e[0],s=e[1],a=s-o;return i[1]&&s<t&&(r=(r-s)%a+o),i[0]&&t<o&&(r=(r-o)%a+s),n?r:+hi(r)}function gi(t,e,i){return Math.max(Math.min(t,i),e)}var vi=function(){function t(t){var e=t.options,i=t.itm,n=t.em,r=t.axm;this.options=e,this.itm=i,this.em=n,this.axm=r,this.animationEnd=this.animationEnd.bind(this)}var e=t.prototype;return e.getDuration=function(o,t,e){var i,s=this;if(void 0!==e)i=e;else{var n=si(t,function(t,e){return i=Math.abs(Math.abs(t)-Math.abs(o[e])),n=s.options.deceleration,(r=Math.sqrt(i/n*2))<100?0:r;var i,n,r});i=Object.keys(n).reduce(function(t,e){return Math.max(t,n[e])},-1/0)}return gi(i,this.options.minimumDuration,this.options.maximumDuration)},e.createAnimationParam=function(t,e,i){var n=this.axm.get(),r=t,o=i&&i.event||null;return{depaPos:n,destPos:r,duration:gi(e,this.options.minimumDuration,this.options.maximumDuration),delta:this.axm.getDelta(n,r),inputEvent:o,input:i&&i.input||null,isTrusted:!!o,done:this.animationEnd}},e.grab=function(t,e){if(this._animateParam&&t.length){var i=this.axm.get(t),n=this.axm.map(i,function(t,e){return di(t,e.range,e.circular,!1)});ci(n,function(t,e){return i[e]===t})||this.em.triggerChange(n,!1,i,e,!!e),this._animateParam=null,this._raf&&(r=this._raf,ni(r)),this._raf=null,this.em.triggerAnimationEnd(!(!e||!e.event))}var r},e.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},e.restore=function(t){var e=this.axm.get(),i=this.axm.map(e,function(t,e){return Math.min(e.range[1],Math.max(e.range[0],t))});this.animateTo(i,this.getDuration(e,i),t)},e.animationEnd=function(){var t=this.getEventInfo();this._animateParam=null;var e=this.axm.filter(this.axm.get(),function(t,e){return fi(t,e.range,e.circular)});0<Object.keys(e).length&&this.setTo(this.axm.map(e,function(t,e){return di(t,e.range,e.circular,!1)})),this.itm.setInterrupt(!1),this.em.triggerAnimationEnd(!!t),this.axm.isOutside()?this.restore(t):this.finish(!!t)},e.finish=function(t){this._animateParam=null,this.itm.setInterrupt(!1),this.em.triggerFinish(t)},e.animateLoop=function(o,s){if(o.duration){this._animateParam=Qe({},o);var a=this._animateParam,c=this,u=a.depaPos;a.startTime=(new Date).getTime(),function t(){c._raf=null;var i=c.easing(((new Date).getTime()-a.startTime)/o.duration),e=si(a.depaPos,function(t,e){return t+a.delta[e]*i}),n=!c.em.triggerChange(e,!1,u);if(u=si(e,function(t){return hi(t)}),1<=i){var r=o.destPos;return ui(r,c.axm.get(Object.keys(r)))||c.em.triggerChange(r,!0,u),void s()}n?c.finish(!1):c._raf=ii(t)}()}else this.em.triggerChange(o.destPos,!0),s()},e.getUserControll=function(t){var e=t.setTo();return e.destPos=this.axm.get(e.destPos),e.duration=gi(e.duration,this.options.minimumDuration,this.options.maximumDuration),e},e.animateTo=function(t,e,i){var n=this,r=this.createAnimationParam(t,e,i),o=Qe({},r.depaPos),s=this.em.triggerAnimationStart(r),a=this.getUserControll(r);if(!s&&this.axm.every(a.destPos,function(t,e){return fi(t,e.range,e.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),s&&!ui(a.destPos,o)){var c=i&&i.event||null;this.animateLoop({depaPos:o,destPos:a.destPos,duration:a.duration,delta:this.axm.getDelta(o,a.destPos),isTrusted:!!c,inputEvent:c,input:i&&i.input||null},function(){return n.animationEnd()})}},e.easing=function(t){return 1<t?1:this.options.easing(t)},e.setTo=function(t,e){void 0===e&&(e=0);var i=Object.keys(t);this.grab(i);var n=this.axm.get(i);if(ui(t,n))return this;this.itm.setInterrupt(!0);var r=ai(t,function(t,e){return n[e]!==t});return Object.keys(r).length&&(ui(r=this.axm.map(r,function(t,e){var i=e.range,n=e.circular;return n&&(n[0]||n[1])?t:li(t,i,n)}),n)||(0<e?this.animateTo(r,e):(this.em.triggerChange(r),this.finish(!1)))),this},e.setBy=function(i,t){return void 0===t&&(t=0),this.setTo(si(this.axm.get(Object.keys(i)),function(t,e){return t+i[e]}),t)},t}(),mi=function(){function t(t){this.axes=t}var e=t.prototype;return e.triggerHold=function(t,e){this.axes.trigger("hold",{pos:t,input:e.input||null,inputEvent:e.event||null,isTrusted:!0})},e.triggerRelease=function(t){t.setTo=this.createUserControll(t.destPos,t.duration),this.axes.trigger("release",t)},e.triggerChange=function(t,e,i,n,r){void 0===r&&(r=!1);var o=this.am,s=o.axm,a=o.getEventInfo(),c=s.moveTo(t,e,i),u=n&&n.event||a&&a.event||null,h={pos:c.pos,delta:c.delta,holding:r,inputEvent:u,isTrusted:!!u,input:n&&n.input||a&&a.input||null,set:u?this.createUserControll(c.pos):function(){}},l=this.axes.trigger("change",h);return u&&s.set(h.set().destPos),l},e.triggerAnimationStart=function(t){return t.setTo=this.createUserControll(t.destPos,t.duration),this.axes.trigger("animationStart",t)},e.triggerAnimationEnd=function(t){void 0===t&&(t=!1),this.axes.trigger("animationEnd",{isTrusted:t})},e.triggerFinish=function(t){void 0===t&&(t=!1),this.axes.trigger("finish",{isTrusted:t})},e.createUserControll=function(t,e){void 0===e&&(e=0);var i={destPos:Qe({},t),duration:e};return function(t,e){return t&&(i.destPos=Qe({},t)),void 0!==e&&(i.duration=e),i}},e.setAnimationManager=function(t){this.am=t},e.destroy=function(){this.axes.off()},t}(),_i=function(){function t(t){this.options=t,this._prevented=!1}var e=t.prototype;return e.isInterrupting=function(){return this.options.interruptable||this._prevented},e.isInterrupted=function(){return!this.options.interruptable&&this._prevented},e.setInterrupt=function(t){!this.options.interruptable&&(this._prevented=t)},t}(),yi=function(){function t(t,e){var i=this;this.axis=t,this.options=e,this._complementOptions(),this._pos=Object.keys(this.axis).reduce(function(t,e){return t[e]=i.axis[e].range[0],t},{})}var e=t.prototype;return e._complementOptions=function(){var r=this;Object.keys(this.axis).forEach(function(n){r.axis[n]=Qe({range:[0,100],bounce:[0,0],circular:[!1,!1]},r.axis[n]),["bounce","circular"].forEach(function(t){var e=r.axis,i=e[n][t];/string|number|boolean/.test(typeof i)&&(e[n][t]=[i,i])})})},e.getDelta=function(t,e){var i=this.get(t);return si(this.get(e),function(t,e){return t-i[e]})},e.get=function(t){var i=this;return t&&Array.isArray(t)?t.reduce(function(t,e){return e&&e in i._pos&&(t[e]=i._pos[e]),t},{}):Qe({},this._pos,t||{})},e.moveTo=function(i,n,r){void 0===r&&(r=this._pos);var t=si(this._pos,function(t,e){return e in i&&e in r?i[e]-r[e]:0});return this.set(this.map(i,function(t,e){return e?di(t,e.range,e.circular,n):0})),{pos:Qe({},this._pos),delta:t}},e.set=function(t){for(var e in t)e&&e in this._pos&&(this._pos[e]=t[e])},e.every=function(t,i){var n=this.axis;return ci(t,function(t,e){return i(t,n[e],e)})},e.filter=function(t,i){var n=this.axis;return ai(t,function(t,e){return i(t,n[e],e)})},e.map=function(t,i){var n=this.axis;return si(t,function(t,e){return i(t,n[e],e)})},e.isOutside=function(t){return!this.every(t?this.get(t):this._pos,function(t,e){return!pi(t,e.range)})},t}(),bi=function(){function t(t){var e=t.options,i=t.itm,n=t.em,r=t.axm,o=t.am;this.isOutside=!1,this.moveDistance=null,this.isStopped=!1,this.options=e,this.itm=i,this.em=n,this.axm=r,this.am=o}var e=t.prototype;return e.atOutside=function(t){var s=this;if(this.isOutside)return this.axm.map(t,function(t,e){var i=e.range[0]-e.bounce[0],n=e.range[1]+e.bounce[1];return n<t?n:t<i?i:t});var a=this.am.easing(1e-5)/1e-5;return this.axm.map(t,function(t,e){var i=e.range[0],n=e.range[1],r=e.bounce,o=e.circular;return o&&(o[0]||o[1])?t:t<i?i-s.am.easing((i-t)/(r[0]*a))*r[0]:n<t?n+s.am.easing((t-n)/(r[1]*a))*r[1]:t})},e.get=function(t){return this.axm.get(t.axes)},e.hold=function(t,e){if(!this.itm.isInterrupted()&&t.axes.length){var i={input:t,event:e};this.isStopped=!1,this.itm.setInterrupt(!0),this.am.grab(t.axes,i),!this.moveDistance&&this.em.triggerHold(this.axm.get(),i),this.isOutside=this.axm.isOutside(t.axes),this.moveDistance=this.axm.get(t.axes)}},e.change=function(t,e,i){if(!this.isStopped&&this.itm.isInterrupting()&&!this.axm.every(i,function(t){return 0===t})){var n,r=this.moveDistance||this.axm.get(t.axes);n=si(r,function(t,e){return t+(i[e]||0)}),this.moveDistance&&(this.moveDistance=n),this.isOutside&&this.axm.every(r,function(t,e){return!pi(t,e.range)})&&(this.isOutside=!1),r=this.atOutside(r),n=this.atOutside(n),!this.em.triggerChange(n,!1,r,{input:t,event:e},!0)&&(this.isStopped=!0,this.moveDistance=null,this.am.finish(!1))}},e.release=function(t,e,i,n){if(!this.isStopped&&this.itm.isInterrupting()&&this.moveDistance){var r=this.axm.get(t.axes),o=this.axm.get(),s=this.axm.get(this.axm.map(i,function(t,e,i){return e.circular&&(e.circular[0]||e.circular[1])?r[i]+t:li(r[i]+t,e.range,e.circular,e.bounce)})),a=this.am.getDuration(s,r,n);0===a&&(s=Qe({},o));var c={depaPos:o,destPos:s,duration:a,delta:this.axm.getDelta(o,s),inputEvent:e,input:t,isTrusted:!0};this.em.triggerRelease(c),this.moveDistance=null;var u=this.am.getUserControll(c),h=ui(u.destPos,o),l={input:t,event:e};h||0===u.duration?(!h&&this.em.triggerChange(u.destPos,!1,o,l,!0),this.itm.setInterrupt(!1),this.axm.isOutside()?this.am.restore(l):this.em.triggerFinish(!0)):this.am.animateTo(u.destPos,u.duration,l)}},t}(),Ei=function(r){function t(t,e,i){void 0===t&&(t={});var n=r.call(this)||this;return n.axis=t,n._inputs=[],n.options=Qe({easing:function(t){return 1-Math.pow(1-t,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4},e),n.itm=new _i(n.options),n.axm=new yi(n.axis,n.options),n.em=new mi(n),n.am=new vi(n),n.io=new bi(n),n.em.setAnimationManager(n.am),i&&n.em.triggerChange(i),n}!function(t,e){function i(){this.constructor=t}Ke(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(t,r);var e=t.prototype;return e.connect=function(t,e){var i;if(i="string"==typeof t?t.split(" "):t.concat(),~this._inputs.indexOf(e)&&this.disconnect(e),"hammer"in e){var n=this._inputs.filter(function(t){return t.hammer&&t.element===e.element});n.length&&(e.hammer=n[0].hammer)}return e.mapAxes(i),e.connect(this.io),this._inputs.push(e),this},e.disconnect=function(t){if(t){var e=this._inputs.indexOf(t);0<=e&&(this._inputs[e].disconnect(),this._inputs.splice(e,1))}else this._inputs.forEach(function(t){return t.disconnect()}),this._inputs=[];return this},e.get=function(t){return this.axm.get(t)},e.setTo=function(t,e){return void 0===e&&(e=0),this.am.setTo(t,e),this},e.setBy=function(t,e){return void 0===e&&(e=0),this.am.setBy(t,e),this},e.isBounceArea=function(t){return this.axm.isOutside(t)},e.destroy=function(){this.disconnect(),this.em.destroy()},t.VERSION="2.5.12",t.TRANSFORM=ti,t.DIRECTION_NONE=Zt,t.DIRECTION_LEFT=Qt,t.DIRECTION_RIGHT=Jt,t.DIRECTION_UP=te,t.DIRECTION_DOWN=ee,t.DIRECTION_HORIZONTAL=ie,t.DIRECTION_VERTICAL=ne,t.DIRECTION_ALL=re,t}(r),Ti="PointerEvent"in Ze||"MSPointerEvent"in Ze,Ii="ontouchstart"in Ze,xi="_EGJS_AXES_INPUTTYPE_";function Ai(n,t){return t.reduce(function(t,e,i){return n[i]&&(t[n[i]]=e),t},{})}function Pi(t,e,i){return i?!!(e===re||e&t&&i&t):!!(e&t)}var wi,Oi=function(){function t(t,e){if(this.axes=[],this.hammer=null,this.element=null,this.panRecognizer=null,void 0===Ye)throw new Error("The Hammerjs must be loaded before eg.Axes.PanInput.\nhttp://hammerjs.github.io/");this.element=function e(t,i){var n;if(void 0===i&&(i=!1),"string"==typeof t){if(t.match(/^<([a-z]+)\s*([^>]*)>/)){var r=document.createElement("div");r.innerHTML=t,n=ei(r.childNodes)}else n=ei(document.querySelectorAll(t));i||(n=1<=n.length?n[0]:void 0)}else t===Ze?n=t:!t.nodeName||1!==t.nodeType&&9!==t.nodeType?"jQuery"in Ze&&t instanceof jQuery||t.constructor.prototype.jquery?n=i?t.toArray():t.get(0):Array.isArray(t)&&(n=t.map(function(t){return e(t)}),i||(n=1<=n.length?n[0]:void 0)):n=t;return n}(t),this.options=Qe({inputType:["touch","mouse","pointer"],scale:[1,1],thresholdAngle:45,threshold:0,hammerManagerOptions:{cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",userDrag:"none"}}},e),this.onHammerInput=this.onHammerInput.bind(this),this.onPanmove=this.onPanmove.bind(this),this.onPanend=this.onPanend.bind(this)}var e=t.prototype;return e.mapAxes=function(t){var e=!!t[0],i=!!t[1];this._direction=e&&i?re:e?ie:i?ne:Zt,this.axes=t},e.connect=function(t){var e={direction:this._direction,threshold:this.options.threshold};if(this.hammer)this.removeRecognizer(),this.dettachEvent();else{var i=this.element[xi];i||(i=String(Math.round(Math.random()*(new Date).getTime())));var n=function(t){void 0===t&&(t=[]);var e=!1,i=!1,n=!1;return t.forEach(function(t){switch(t){case"mouse":i=!0;break;case"touch":e=Ii;break;case"pointer":n=Ti}}),n?De:e&&i?Ue:e?ke:i?Le:null}(this.options.inputType);if(!n)throw new Error("Wrong inputType parameter!");this.hammer=function(t,e){try{return new Ye(t,Qe({},e))}catch(t){return null}}(this.element,Qe({inputClass:n},this.options.hammerManagerOptions)),this.element[xi]=i}return this.panRecognizer=new $e(e),this.hammer.add(this.panRecognizer),this.attachEvent(t),this},e.disconnect=function(){return this.removeRecognizer(),this.hammer&&this.dettachEvent(),this._direction=Zt,this},e.destroy=function(){this.disconnect(),this.hammer&&0===this.hammer.recognizers.length&&this.hammer.destroy(),delete this.element[xi],this.element=null,this.hammer=null},e.enable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!0),this},e.disable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!1),this},e.isEnable=function(){return!(!this.hammer||!this.hammer.get("pan").options.enable)},e.removeRecognizer=function(){this.hammer&&this.panRecognizer&&(this.hammer.remove(this.panRecognizer),this.panRecognizer=null)},e.onHammerInput=function(t){this.isEnable()&&(t.isFirst?this.observer.hold(this,t):t.isFinal&&this.onPanend(t))},e.onPanmove=function(t){var e=function(t,e){if(e<0||90<e)return Zt;var i=Math.abs(t);return e<i&&i<180-e?ne:ie}(t.angle,this.options.thresholdAngle),i=this.hammer.session.prevInput;t.offsetY=i?(t.offsetX=t.deltaX-i.deltaX,t.deltaY-i.deltaY):t.offsetX=0;var n=this.getOffset([t.offsetX,t.offsetY],[Pi(ie,this._direction,e),Pi(ne,this._direction,e)]),r=n.some(function(t){return 0!==t});r&&(t.srcEvent.preventDefault(),t.srcEvent.stopPropagation()),(t.preventSystemEvent=r)&&this.observer.change(this,t,Ai(this.axes,n))},e.onPanend=function(t){var e,i,n,r,o=this.getOffset([Math.abs(t.velocityX)*(t.deltaX<0?-1:1),Math.abs(t.velocityY)*(t.deltaY<0?-1:1)],[Pi(ie,this._direction),Pi(ne,this._direction)]);e=o,i=this.observer.options.deceleration,n=Math.sqrt(e[0]*e[0]+e[1]*e[1]),r=Math.abs(n/-i),o=[e[0]/2*r,e[1]/2*r],this.observer.release(this,t,Ai(this.axes,o))},e.attachEvent=function(t){this.observer=t,this.hammer.on("hammer.input",this.onHammerInput).on("panstart panmove",this.onPanmove)},e.dettachEvent=function(){this.hammer.off("hammer.input",this.onHammerInput).off("panstart panmove",this.onPanmove),this.observer=null},e.getOffset=function(t,e){var i=[0,0],n=this.options.scale;return e[0]&&(i[0]=t[0]*n[0]),e[1]&&(i[1]=t[1]*n[1]),i},t}();
/*
    Copyright (c) 2017 NAVER Corp.
    @egjs/flicking project is licensed under the MIT <https://naver.github.io/egjs/license.txt> license

    @egjs/flicking JavaScript library
    https://github.com/naver/egjs-flicking

    @version 2.4.4
    */function Ci(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var Di=(wi="undefined"==typeof window?{document:{},navigator:{userAgent:""}}:window).document,Ni={$:function(t){var i=null;if("string"==typeof t){var e=t.match(/^<([a-z]+)\s*([^>]*)>/);e?(i=Di.createElement(e[1]),3===e.length&&e[2].split(" ").forEach(function(t){var e=t.split("=");i.setAttribute(e[0],e[1].trim().replace(/(^["']|["']$)/g,""))})):(i=Di.querySelectorAll(t)).length?1===i.length&&(i=i[0]):i=null}else t.nodeName&&1===t.nodeType&&(i=t);return i},toArray:function(t){return[].slice.call(t)},isArray:function(t){return t&&t.constructor===Array},isObject:function(t){return t&&!t.nodeType&&"object"==typeof t&&!this.isArray(t)},extend:function(i){for(var n=this,t=arguments.length,e=new Array(1<t?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];if(!e.length||1===e.length&&!e[0])return i;var o=e.shift();return this.isObject(i)&&this.isObject(o)&&Object.keys(o).forEach(function(t){var e=o[t];n.isObject(e)?(!i[t]&&(i[t]={}),i[t]=n.extend(i[t],e)):i[t]=n.isArray(e)?e.concat():e}),this.extend.apply(this,[i].concat(e))},css:function(t,e,i){if("string"==typeof e){var n=t.style[e];return(!n||"auto"===n||/\d/.test(n)&&!/\d(px)?$/.test(n))&&(n=wi.getComputedStyle(t)[e]),i?this.getNumValue(n):n}var r=function(e,i){return Object.keys(i).forEach(function(t){e[t]=i[t]})};return this.isArray(t)?t.forEach(function(t){return r(t.style,e)}):r(t.style,e),t},classList:function(t,e,i){var n,r="boolean"==typeof i;return t.classList?n=t.classList[r&&(i?"add":"remove")||"contains"](e):(n=t.className,r?i&&-1===n.indexOf(e)?n=t.className=(n+" "+e).replace(/\s{2,}/g," "):i||(n=t.className=n.replace(e,"")):n=new RegExp("\\b"+e+"\\b").test(n)),n},getNumValue:function(t,e){var i=t;return isNaN(i=parseFloat(i))?e:i},getUnitValue:function(t){return(parseFloat(t)||0)+(String(t).match(/(?:[a-z]{2,}|%)$/)||"px")},getOuter:function(i,t){var n=this,r=0;return("outerWidth"===t?["Left","Right"]:["Top","Bottom"]).forEach(function(e){["padding","margin"].forEach(function(t){r+=n.css(i,""+t+e,!0)})}),this.css(i,t.replace("outer","").toLocaleLowerCase(),!0)+r},outerWidth:function(t){return this.getOuter(t,"outerWidth")},outerHeight:function(t){return this.getOuter(t,"outerHeight")},translate:function(t,e,i){return i?"translate3d("+t+","+e+",0)":"translate("+t+","+e+")"},hasClickBug:function(){var t=wi.navigator.userAgent,e=/iPhone|iPad/.test(t);return this.hasClickBug=function(){return e},e}},Si=function(){function t(t){this.superclass=t||function(){return function(){}}()}return t.prototype.with=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce(function(t,e){return e(t)},this.superclass)},t}(),ki={beforeFlickStart:"beforeFlickStart",beforeRestore:"beforeRestore",flick:"flick",flickEnd:"flickEnd",restore:"restore"},Ri={name:"transform"};Ri.support=function(){if(!Di.documentElement)return!1;var t=Di.documentElement.style;return Ri.name in t||(Ri.name="webkitTransform")in t}();var Li,Mi,Hi=wi.CSS&&wi.CSS.supports&&wi.CSS.supports("will-change","transform"),Bi=/Android 2\./.test(wi.navigator.userAgent),Ui="data-height",zi={panel:{$list:null,index:0,no:0,currIndex:0,currNo:0,size:0,count:0,origCount:0,changed:!1,animating:!1,minCount:3},touch:{holdPos:0,destPos:0,distance:0,direction:null,lastPos:0,holding:!1,isTrusted:!1},customEvent:{flick:!0,restore:!1,restoreCall:!1},dirData:[],indexToMove:0,$dummyAnchor:null},Fi={hwAccelerable:!0,prefix:"eg-flick",deceleration:6e-4,horizontal:!0,circular:!1,previewPadding:null,bounce:null,threshold:40,duration:100,panelEffect:function(t){return 1-Math.pow(1-t,3)},defaultIndex:0,inputType:["touch","mouse"],thresholdAngle:45,adaptiveHeight:!1,zIndex:2e3,useTranslate:!0},Vi=function(t){return function(t){function e(){return t.apply(this,arguments)||this}Ci(e,t);var i=e.prototype;return i._holdHandler=function(t){var e=this._conf,i=e.touch,n=t.pos.flick;i.holdPos=n,i.holding=!0,i.isTrusted=!0,e.panel.changed=!1,this._adjustContainerCss("start",n)},i._changeHandler=function(t){var e,i,n=this._conf,r=n.touch,o=t.pos.flick,s=r.holdPos,a=null;this._setPointerEvents(t),t.inputEvent?(e=t.inputEvent.direction,i=t.inputEvent[this.options.horizontal?"deltaX":"deltaY"],~n.dirData.indexOf(e)||(e=n.dirData[+(Math.abs(r.lastPos)<=i)]),r.lastPos=i):r.lastPos=null,n.customEvent.flick&&(a=this._triggerEvent(ki.flick,{pos:o,holding:t.holding,direction:e||r.direction,distance:r.isTrusted?o-s:null})),a||null===a?this._setTranslate([-o,0]):(t.stop(),r.distance=0,r.direction=null,r.destPos=0,r.holding=!1,r.isTrusted=!1,this._adjustContainerCss("end"),this._setPointerEvents(),this._setPhaseValue("end"))},i._releaseHandler=function(t){var e=this._conf,i=e.touch,n=i.holdPos,r=e.panel.size,o=e.customEvent,s=i.holdPos<t.depaPos.flick;i.distance=t.depaPos.flick-n,i.direction=e.dirData[+!s],i.destPos=n+(s?r:-r);var a=i.distance,c=this.options.duration,u=n;this._isMovable()?(!o.restoreCall&&(o.restore=!1),u=i.destPos):0<Math.abs(a)?this._triggerBeforeRestore(t):c=0,t.setTo({flick:u},c),0===a&&this._adjustContainerCss("end"),i.holding=!1,this._setPointerEvents()},i._animationStartHandler=function(t){var e=this._conf,i=e.panel,n=e.customEvent,r=t.inputEvent||e.touch.lastPos;!n.restoreCall&&r&&!1===this._setPhaseValue("start",{depaPos:t.depaPos.flick,destPos:t.destPos.flick})&&t.stop(),r&&(t.duration=this.options.duration,t.destPos.flick=i.size*(i.index+e.indexToMove)),i.animating=!0},i._animationEndHandler=function(){var t=this._conf;t.panel.animating=!1,this._setPhaseValue("end"),this._triggerRestore(),t.touch.isTrusted=!1},e}(t)},ji=function(){var t,e=function(o){function t(t,e,i){var n;(n=o.call(this)||this).$wrapper=Ni.$(t),n.plugins=[];var r=n.$wrapper&&n.$wrapper.children;if(!n.$wrapper||!r||!r.length)throw new Error("Given base element doesn't exist or it hasn't proper DOM structure to be initialized.");return n._setOptions(e),n._setConfig(r,i),!Ni.hasClickBug()&&(n._setPointerEvents=function(){}),n._build(),n._bindEvents(!0),n._applyPanelsCss(),n._arrangePanels(),n.options.hwAccelerable&&Hi&&n._setHint(),n.options.adaptiveHeight&&n._setAdaptiveHeight(),n._adjustContainerCss("end"),n}Ci(t,o);var e=t.prototype;return e._setOptions=function(t){var e={previewPadding:[0,0],bounce:[10,10]};for(var i in this.options=Ni.extend(Ni.extend({},Fi),e,t),e){var n=this.options[i];/(number|string)/.test(typeof n)?n=[n,n]:Ni.isArray(n)||(n=e[i]),this.options[i]=n}Bi&&(this.options.useTranslate=!1)},e._setConfig=function(t,e){var i=this.options,n=i.previewPadding,r=t;Ni.classList(r[0],i.prefix+"-container")&&(r=r[0],r=(this.$container=r).children),r=Ni.toArray(r);var o=this._conf=Ni.extend(Ni.extend({},zi),{panel:{$list:r,minCount:0<n[0]+n[1]?5:3},origPanelStyle:{wrapper:{className:this.$wrapper.getAttribute("class")||null,style:this.$wrapper.getAttribute("style")||null},container:{className:this.$container&&this.$container.getAttribute("class")||null,style:this.$container&&this.$container.getAttribute("style")||null},list:r.map(function(t){return{className:t.getAttribute("class")||null,style:t.getAttribute("style")||null}})},useLayerHack:i.hwAccelerable&&!Hi,eventPrefix:e||""});[["LEFT","RIGHT"],["UP","DOWN"]][+!i.horizontal].forEach(function(t){return o.dirData.push(Ei["DIRECTION_"+t])})},e._build=function(){var t=this._conf.panel,e=this.options,i=t.$list,n=e.previewPadding.concat(),r=e.prefix,o=e.horizontal,s=t.count=t.origCount=i.length,a=e.bounce;this._setPadding(n,!0);var c=this._getDataByDirection([t.size,"100%"]),u={position:"relative",zIndex:e.zIndex||2e3,width:"100%",height:"100%"};if(o&&(u.top="0px"),this.$container)Ni.css(this.$container,u);else{var h=i[0].parentNode,l=Di.createElement("div");l.className=r+"-container",Ni.css(l,u),i.forEach(function(t){return l.appendChild(t)}),h.appendChild(l),this.$container=l}i.forEach(function(t){Ni.classList(t,r+"-panel",!0),Ni.css(t,{position:"absolute",width:Ni.getUnitValue(c[0]),height:Ni.getUnitValue(c[1]),boxSizing:"border-box",top:0,left:0})}),this._addClonePanels()&&(s=t.count=(t.$list=Ni.toArray(this.$container.children)).length),this._axesInst=new Ei({flick:{range:[0,t.size*(s-1)],bounce:a}},{easing:e.panelEffect,deceleration:e.deceleration,interruptable:!1}),this._setDefaultPanel(e.defaultIndex)},e._setPadding=function(t,e){var i=this.$wrapper,n=this.options.horizontal,r=this._conf.panel,o={};!t.reduce(function(t,e){return parseFloat(t)+parseFloat(e)})&&e||(n&&t.reverse(),o.padding=(n?"0 ":"")+t.map(function(t){return isNaN(t)?t:t+"px"}).join(" 0 ")),e&&(o.overflow="hidden",o.boxSizing="border-box"),Object.keys(o).length&&Ni.css(i,o);var s=n?["Left","Right"]:["Top","Bottom"],a=Math.max(i["offset"+(n?"Width":"Height")],Ni.css(i,n?"width":"height",!0));r.size=a-(Ni.css(i,"padding"+s[0],!0)+Ni.css(i,"padding"+s[1],!0))},e._addClonePanels=function(){var t,e=this,i=this._conf.panel,n=i.origCount,r=i.minCount-n,o=i.$list;if(this.options.circular&&n<i.minCount){for(t=o.map(function(t){return t.cloneNode(!0)});t.length<r;)t=t.concat(o.map(function(t){return t.cloneNode(!0)}));return t.forEach(function(t){return e.$container.appendChild(t)}),!!t.length}return!1},e._movePanelPosition=function(t,e){var i=this._conf.panel,n=i.$list,r=n.splice(e?0:i.count-t,t);i.$list=e?n.concat(r):r.concat(n)},e._setDefaultPanel=function(t){var e,i,n=this._conf.panel,r=n.count-1;this.options.circular?(0<t&&t<=r&&this._movePanelPosition(t,!0),i=this._getBasePositionIndex(),this._movePanelPosition(i,!1),this._setPanelNo({no:t,currNo:t})):0<t&&t<=r&&(this._setPanelNo({index:t,no:t,currIndex:t,currNo:t}),e=[-n.size*t,0],this._setTranslate(e),this._setAxes("setTo",Math.abs(e[0]),0))},e._arrangePanels=function(t,e){var i,n=this._conf,r=n.panel,o=n.touch,s=n.dirData;this.options.circular&&(n.customEvent.flick=!1,t&&(e&&(o.direction=s[+!(0<e)]),this._arrangePanelPosition(o.direction,e)),i=this._getBasePositionIndex(),this._setPanelNo({index:i,currIndex:i}),n.customEvent.flick=!!this._setAxes("setTo",r.size*r.index,0)),this._applyPanelsPos()},e._applyPanelsPos=function(){this._conf.panel.$list.forEach(this._applyPanelsCss.bind(this))},e._setMoveStyle=function(t,e){var n=Ri,r=this._conf.useLayerHack;this._setMoveStyle=n.support?function(t,e){var i;Ni.css(t,((i={})[n.name]=Ni.translate(e[0],e[1],r),i))}:function(t,e){Ni.css(t,{left:e[0],top:e[1]})},this._setMoveStyle(t,e)},e._applyPanelsCss=function(){var t=this._conf,e="__dummy_anchor",i=this.options.useTranslate;this._applyPanelsCss=i?function(t,e){var i=this._getDataByDirection([Ri.support?100*e+"%":this._conf.panel.size*e+"px",0]);this._setMoveStyle(t,i)}:(Bi&&(t.$dummyAnchor=Ni.$("."+e),!t.$dummyAnchor&&this.$wrapper.appendChild(t.$dummyAnchor=Ni.$('<a href="javascript:void(0)" class="'+e+'" style="position:absolute;height:0px;width:0px">'))),function(t,e){var i=this._getDataByDirection([this._conf.panel.size*e+"px",0]);Ni.css(t,{left:i[0],top:i[1]})})},e._adjustContainerCss=function(t,e){var i,n=this._conf,r=n.panel,o=this.options,s=o.useTranslate,a=o.horizontal,c=o.previewPadding[0],u=this.$container,h=e;if(!s)if(h||(h=-r.size*r.index),"start"===t)u=u.style,i=parseFloat(u[a?"left":"top"]),a?i&&(u.left="0px"):i!==c&&(u.top="0px"),this._setTranslate([-h,0]);else if("end"===t){var l;h=this._getCoordsValue([h,0]),Ni.css(u,((l={left:h.x,top:h.y})[Ri.name]=Ni.translate(0,0,n.useLayerHack),l)),n.$dummyAnchor&&n.$dummyAnchor.focus()}},e._setAxes=function(t,e,i){return this._axesInst[t]({flick:e},i)},e._setHint=function(){var t={willChange:"transform"};Ni.css(this.$container,t),Ni.css(this._conf.panel.$list,t)},e._getDataByDirection=function(t){var e=t.concat();return!this.options.horizontal&&e.reverse(),e},e._arrangePanelPosition=function(t,e){var i=t===this._conf.dirData[0];this._movePanelPosition(Math.abs(e||1),i)},e._getBasePositionIndex=function(){return Math.floor(this._conf.panel.count/2-.1)},e._bindEvents=function(t){var e=this.options,i=this.$wrapper,n=this._axesInst;t?(this._panInput=new Oi(i,{inputType:e.inputType,thresholdAngle:e.thresholdAngle,scale:this._getDataByDirection([-1,0])}),n.on({hold:this._holdHandler.bind(this),change:this._changeHandler.bind(this),release:this._releaseHandler.bind(this),animationStart:this._animationStartHandler.bind(this),animationEnd:this._animationEndHandler.bind(this)}).connect(this._getDataByDirection(["flick",""]),this._panInput)):(this.disableInput(),n.off())},e._setAdaptiveHeight=function(t){var e,i,n=this._conf,r=n.indexToMove,o=0===r?this["get"+((t===Ei.DIRECTION_LEFT?"Next":t===Ei.DIRECTION_RIGHT&&"Prev")||"")+"Element"]():n.panel.$list[n.panel.currIndex+r],s=o.querySelector(":first-child");s&&((i=s.getAttribute(Ui))||(e=o.children,0<(i=Ni.outerHeight(1<e.length?(o.style.height="auto",o):s))&&s.setAttribute(Ui,i)),0<i&&(this.$wrapper.style.height=i+"px"))},e._triggerBeforeRestore=function(t){var e=this._conf,i=e.touch;i.direction=+e.dirData.join("").replace(i.direction,""),e.customEvent.restore=this._triggerEvent(ki.beforeRestore,{depaPos:t.depaPos.flick,destPos:t.destPos.flick}),e.customEvent.restore||("stop"in t&&t.stop(),e.panel.animating=!1)},e._triggerRestore=function(){var t=this._conf.customEvent;t.restore&&this._triggerEvent(ki.restore),t.restore=t.restoreCall=!1},e._setPhaseValue=function(t,e){var i=this._conf,n=this.options,r=i.panel,o=n.useTranslate;if("start"===t&&(r.changed=this._isMovable())){if(!this._triggerEvent(ki.beforeFlickStart,e))return r.changed=r.animating=!1,!1;n.adaptiveHeight&&this._setAdaptiveHeight(i.touch.direction),0===i.indexToMove&&this._setPanelNo()}else"end"===t&&(n.circular&&r.changed&&this._arrangePanels(!0,i.indexToMove),o&&this._setTranslate([-r.size*r.index,0]),i.touch.distance=i.indexToMove=0,r.changed&&this._triggerEvent(ki.flickEnd));return this._adjustContainerCss(t),!0},e._getNumByDirection=function(){var t=this._conf;return t.touch.direction===t.dirData[0]?1:-1},e._revertPanelNo=function(){var t=this._conf.panel,e=this._getNumByDirection(),i=0<=t.currIndex?t.currIndex:t.index-e,n=0<=t.currNo?t.currNo:t.no-e;this._setPanelNo({index:i,no:n})},e._setPanelNo=function(t){var e=this._conf.panel,i=e.origCount-1,n=this._getNumByDirection();if(Ni.isObject(t))for(var r in t)e[r]=t[r];else e.currIndex=e.index,e.currNo=e.no,e.index+=n,e.no+=n;e.no>i?e.no=0:e.no<0&&(e.no=i)},e._setPointerEvents=function(t){var e,i=this.$container,n=Ni.css(i,"pointerEvents");t&&t.holding&&t.inputEvent&&t.inputEvent.preventSystemEvent&&"none"!==n?e="none":t||"auto"===n||(e="auto"),e&&Ni.css(i,{pointerEvents:e})},e._getCoordsValue=function(t){var e=this._getDataByDirection(t);return{x:Ni.getUnitValue(e[0]),y:Ni.getUnitValue(e[1])}},e._setTranslate=function(t){var e=this._getCoordsValue(t);this._setMoveStyle(this.$container,[e.x,e.y])},e._isMovable=function(){var t,e,i=this.options,n=this._axesInst,r=Math.abs(this._conf.touch.distance)>=i.threshold;return!(!i.circular&&r&&(t=n.axis.flick.range[1],(e=n.get().flick)<0||t<e))&&r},e._triggerEvent=function(t,e){var i=this._conf,n=i.panel;return t===ki.flickEnd&&(n.currNo=n.no,n.currIndex=n.index),this.trigger(i.eventPrefix+t,Ni.extend({eventType:t,no:n.currNo,direction:i.touch.direction,isTrusted:i.touch.isTrusted},e))},e._getElement=function(t,e,i){var n,r,o=this._conf.panel,s=this.options.circular,a=o.currIndex,c=t===this._conf.dirData[0],u=null,h=r=i?(n=o.count,a):(n=o.origCount,o.currNo);return c?r<n-1?r++:s&&(r=0):0<r?r--:s&&(r=n-1),h!==r&&(u=e?o.$list[c?a+1:a-1]:r),u},e._setValueToMove=function(t){var e=this._conf;e.touch.distance=this.options.threshold+1,e.touch.direction=e.dirData[+!t]},e.getIndex=function(t){return this._conf.panel[t?"currIndex":"currNo"]},e.getElement=function(){var t=this._conf.panel;return t.$list[t.currIndex]},e.getNextElement=function(){return this._getElement(this._conf.dirData[0],!0)},e.getNextIndex=function(t){return this._getElement(this._conf.dirData[0],!1,t)},e.getAllElements=function(){return this._conf.panel.$list},e.getPrevElement=function(){return this._getElement(this._conf.dirData[1],!0)},e.getPrevIndex=function(t){return this._getElement(this._conf.dirData[1],!1,t)},e.isPlaying=function(){return this._conf.panel.animating},e._movePanelByPhase=function(t,e,i){var n=Ni.getNumValue(i,this.options.duration);!1!==this._setPhaseValue("start")&&(this._setAxes(t,e,n),!n&&this._setPhaseValue("end"))},e.next=function(t){var e=this.getNextIndex();return"number"!=typeof e?this:this._moveTo(e,t,Ei.DIRECTION_RIGHT)},e.prev=function(t){var e=this.getPrevIndex();return"number"!=typeof e?this:this._moveTo(e,t,Ei.DIRECTION_LEFT)},e.moveTo=function(t,e){return this._moveTo(t,e)},e._moveTo=function(t,e,i){var n,r,o=this._conf,s=o.panel,a=this.options.circular,c=s.index,u=t;return(u=Ni.getNumValue(u,-1))<0||u>=s.origCount||u===s.no||s.animating||o.touch.holding||(n=u-(a?s.no:c),i===Ei.DIRECTION_RIGHT&&n<0?n+=s.origCount:i===Ei.DIRECTION_LEFT&&0<n&&(n-=s.origCount),r=0<n,a&&Math.abs(n)>(r?s.count-(c+1):c)&&(r=0<(n+=(r?-1:1)*s.count)),this._setPanelNo(a?{no:u}:{no:u,index:u}),this._conf.indexToMove=n,this._setValueToMove(r),this._movePanelByPhase(a?"setBy":"setTo",s.size*(a?n:u),e)),this},e.resize=function(){var t,e=this._conf,i=this.options,n=e.panel,r=i.horizontal,o=i.useTranslate;if(!this.isPlaying()){var s;if(Ni.isArray(i.previewPadding)&&"number"==typeof+i.previewPadding.join("")?(this._setPadding(i.previewPadding.concat()),t=n.size):r&&(t=n.size=Ni.css(this.$wrapper,"width",!0)),Ni.css(n.$list,((s={})[r?"width":"height"]=Ni.getUnitValue(t),s)),i.adaptiveHeight){var a=this.$container.querySelectorAll("["+Ui+"]");a.length&&(Ni.toArray(a).forEach(function(t){return t.removeAttribute(Ui)}),this._setAdaptiveHeight())}this._axesInst.axis.flick.range=[0,t*(n.count-1)],this._setAxes("setTo",t*n.index,0),o||(this._applyPanelsPos(),this._adjustContainerCss("end"))}return this},e.restore=function(t){var e,i=this._conf,n=i.panel,r=this._axesInst.get().flick,o=t;return r!==n.currIndex*n.size?(i.customEvent.restoreCall=!0,o=Ni.getNumValue(o,this.options.duration),this._revertPanelNo(),e=n.size*n.index,this._triggerBeforeRestore({depaPos:r,destPos:e}),this._setAxes("setTo",e,o),o||(this._adjustContainerCss("end"),this._triggerRestore())):n.changed&&(this._revertPanelNo(),i.touch.distance=i.indexToMove=0),this},e.enableInput=function(){return this._panInput.enable(),this},e.disableInput=function(){return this._panInput.disable(),this},e.getStatus=function(t){var e=this._conf.panel,i=/((?:-webkit-)?transform|left|top|will-change|box-sizing|width):[^;]*;/g,n={panel:{index:e.index,no:e.no,currIndex:e.currIndex,currNo:e.currNo},$list:e.$list.map(function(t){return{style:t.style.cssText.replace(i,"").trim(),className:t.className,html:t.innerHTML}})};return t?JSON.stringify(n):n},e.setStatus=function(t){var e=this._conf.panel,i=this.options.adaptiveHeight,s="string"==typeof t?JSON.parse(t):t;if(s){for(var n in s.panel)n in e&&(e[n]=s.panel[n]);e.$list.forEach(function(t,e){var i=s.$list[e],n=i.style,r=i.className,o=i.html;n&&(t.style.cssText+=n),r&&(t.className=r),o&&(t.innerHTML=o)}),i&&this._setAdaptiveHeight()}},e.destroy=function(){var e=this,t=this._conf.origPanelStyle,i=t.wrapper,n=t.container,r=t.list;this._bindEvents(!1),this.off(),this._axesInst.destroy(),this._panInput.destroy();var o=this.$wrapper;o.setAttribute("class",i.className),o[i.style?"setAttribute":"removeAttribute"]("style",i.style);var s=this.$container,a=[].slice.call(s.children);t.container.className?(s.setAttribute("class",n.className),s[n.style?"setAttribute":"removeAttribute"]("style",n.style)):(a.forEach(function(t){return o.appendChild(t)}),s.parentNode.removeChild(s));for(var c,u=0;c=a[u];u++)if(u>r.length-1)c.parentNode.removeChild(c);else{var h=r[u].className,l=r[u].style;c[h?"setAttribute":"removeAttribute"]("class",h),c[l?"setAttribute":"removeAttribute"]("style",l)}for(var p in this.plugins.forEach(function(t){e.plugins[t].$componentWillUnmount()}),this)this[p]=null},e.plugin=function(t){var i=this;return t.forEach(function(e){0===i.plugins.filter(function(t){return t.constructor===e.constructor}).length&&i.plugins.push(e.$componentWillMount(i))}),this},t}((t=r,new Si(t)).with(Vi));return e.utils=Ni,e.VERSION="2.4.4",e.consts={EVENTS:ki,TRANSFORM:Ri,SUPPORT_WILLCHANGE:Hi,IS_ANDROID2:Bi},e.DIRECTION_NONE=Ei.DIRECTION_NONE,e.DIRECTION_LEFT=Ei.DIRECTION_LEFT,e.DIRECTION_RIGHT=Ei.DIRECTION_RIGHT,e.DIRECTION_UP=Ei.DIRECTION_UP,e.DIRECTION_DOWN=Ei.DIRECTION_DOWN,e.DIRECTION_HORIZONTAL=Ei.DIRECTION_HORIZONTAL,e.DIRECTION_VERTICAL=Ei.DIRECTION_VERTICAL,e.DIRECTION_ALL=Ei.DIRECTION_ALL,e}();function Xi(t,e){var i=t.querySelector("img");i&&O(i,{transform:"matrix(1, 0, 0, 1, "+e+", 0)"})}(Mi=Li||(Li={}))[Mi.Next=2]="Next",Mi[Mi.Prev=4]="Prev";var Gi,Wi,Yi,qi,$i=function(i){function t(t,e){var o=i.call(this)||this;return o.root=t,o._preventNextFlick=!1,o._preventPrevFlick=!1,o._inputDisabled=!1,o._padding=0,o.usePadding=!0,o._width=0,o.onFlick=function(t){if(o.isEndOfPanel(t))return t.stop(),void setTimeout(function(){o._flick.restore(0)},0);if(t.holding)o.usePadding&&(o.padding=J);else{var e=t.direction===Li.Prev?-1:1;o.padding=Math.max(0,Math.min(20,J-J*t.distance*e/o._width))}o.trigger("flick",t)},o.isEndOfPanel=function(t){var e=t.distance,i=t.direction,n=o._preventPrevFlick&&e<0&&i===Li.Prev,r=o._preventNextFlick&&0<e&&i===Li.Next;return(n||r)&&t.isTrusted},o._options=E({},e||{}),o._initFlicking(),o}return s(t,i),t.prototype.getPrevElement=function(){return this._flick.getPrevElement()},t.prototype.getElement=function(){return this._flick.getElement()},t.prototype.getNextElement=function(){return this._flick.getNextElement()},t.prototype.restore=function(t){return this._flick.restore(t)},t.prototype.resize=function(){return this._flick.resize(),this._width=this._flick.getElement().offsetWidth,this},t.prototype.disableInput=function(){return this._inputDisabled=!0,this._flick.disableInput()},t.prototype.enableInput=function(){return this._inputDisabled=!1,this._flick.enableInput()},t.prototype.isInputDisabled=function(){return this._inputDisabled},t.prototype.setPanelPadding=function(t){this.usePadding=t,this.padding=0},t.prototype.resetPanel=function(){this._flick.getAllElements().forEach(function(t){var e=t.querySelector(Y.IMAGE_ITEM);e&&O(e,{visibility:null})})},Object.defineProperty(t.prototype,"panel",{get:function(){return{prev:this._flick.getPrevElement(),current:this._flick.getElement(),next:this._flick.getNextElement()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextFlick",{get:function(){return!this._preventNextFlick},set:function(t){this._preventNextFlick=!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prevFlick",{get:function(){return!this._preventPrevFlick},set:function(t){this._preventPrevFlick=!t},enumerable:!0,configurable:!0}),t.prototype.moveNext=function(){this._flick.next()},t.prototype.movePrev=function(){this._flick.prev()},t.prototype._initFlicking=function(){var e=this,t=new ji(this.root,this._options);t.on({beforeFlickStart:function(t){e.trigger("beforeFlickStart",t)},flick:this.onFlick,flickEnd:function(t){e.padding=0,e.trigger("flickEnd",t)},beforeRestore:function(t){e.trigger("beforeRestore",t)},restore:function(t){e.trigger("restore",t)}}),this._flick=t},Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=t,Xi(this._flick.getPrevElement(),-t),Xi(this._flick.getNextElement(),t)},enumerable:!0,configurable:!0}),t}(r),Ki=function(n){function t(t){void 0===t&&(t={});var e=n.call(this)||this;e.classNames=E({default:W.GHOST_IMAGE,buildIn:W.BUILD_IN,buildOut:W.BUILD_OUT},t);var i=document.createElement("img");return i.className=e.classNames.default,e.element=i,e}return s(t,n),t.prototype.getElement=function(){return this.element},t.prototype.appendTo=function(t){t.appendChild(this.element)},t.prototype.flip=function(e,t,i){var n=this;void 0===i&&(i=function(){});var r=this.element,o=this.elementRect,s=t.className,a=o.left-e.left,c=o.top-e.top,u=o.width/e.width,h=o.height/e.height,l=x("transitionEnd");requestAnimationFrame(function(){r.className=n.classNames.default;var t=_().useCss3d;L(r,e,t?{transform:"translate3d("+a+"px, "+c+"px, 0px) scale3d("+u+", "+h+", 1)",display:"block"}:{transform:"translateX("+a+"px) translateY("+c+"px) scaleX("+u+") scaleY("+h+")",willChange:"transform",display:"block"}),requestAnimationFrame(function(){r.classList.add(s),O(r,{transform:""}),l&&N(r,l,function(){r.classList.remove(s),i(),n.hide()})})})},t.prototype.prepare=function(t,e,i){void 0===i&&(i=!1),i&&L(this.element,t,{display:"block"});var n=this.element;this.elementRect=t,e&&(n.setAttribute("data-src",e),U(n))},t.prototype.buildIn=function(t,e){this.flip(t,{className:this.classNames.buildIn},e)},t.prototype.buildOut=function(t,e,i){void 0===i&&(i={className:this.classNames.buildOut}),this.flip(t,i,e)},t.prototype.hide=function(){O(this.element,{display:"none",left:"-10000px",top:"-10000px"})},t}(r);(Wi=Gi||(Gi={})).HEADER_BUTTON="HEADER_BUTTON",Wi.HEADER_INDICATOR="HEADER_INDICATOR",Wi.CAPTION="CAPTION",Wi.LINK="LINK",Wi.MORE="MORE",Wi.TOOLBAR="TOOLBAR",(qi=Yi||(Yi={}))[qi.BOTTOM1=0]="BOTTOM1",qi[qi.BOTTOM2=1]="BOTTOM2",qi[qi.BOTTOM3=2]="BOTTOM3",qi[qi.BOTTOM4=3]="BOTTOM4",qi[qi.BOTTOM5=4]="BOTTOM5";var Zi=function(){function t(t){this.options=t,this.layout=Gi.HEADER_BUTTON}return t.prototype.initialize=function(t){var e=document.createElement("A");return e.setAttribute("class",W.HEADER_BUTTON+" "+W.HEADER_CLOSE_BUTTON),e.setAttribute("href","#"),e.setAttribute("role","button"),e.innerHTML='닫기<i class="'+W.ICON+'"></i>',t.appendChild(e),e},t.prototype.onClick=function(t){this.options.onClick&&this.options.onClick(t),t.preventDefault()},t}(),Qi=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),'<strong class="'+W.INDEX_INDICATOR_CURRENT+'">'+t+'</strong> / <span class="'+W.INDEX_INDICATOR_TOTAL+'">'+e+'</span><i class="'+W.ICON+'"></i>'},Ji=function(){function t(t){this.options=t,this.layout=Gi.HEADER_INDICATOR,this.currentIndex=0}return t.prototype.initialize=function(t){var e=document.createElement("div");return e.innerHTML=Qi(),t.appendChild(e),e},t.prototype.onUpdate=function(t,e){if(null!==e){var i=e.index,n=e.total;i===this.currentIndex&&this.toggleArrow(),t.innerHTML=Qi(i,n),this.currentIndex=i}},t.prototype.toggleArrow=function(){var t=document.querySelector(Y.HUD_HEADER_INDICATOR);C(t,"civ__open",!!!C(t,"civ__open"))},t.prototype.onClick=function(t){this.options.onClick&&this.options.onClick(t),t.preventDefault()},t}(),tn=function(){function t(){this.layout=Gi.CAPTION,this.valid=!0}return t.prototype.initialize=function(t){var e=document.createElement("a");return e.setAttribute("href","#"),e.setAttribute("class",W.HUD_BOTTOM_CAPTION),e.innerHTML='<div class="'+W.CAPTION_DESC+'"></div>\n   <div class="civ__meta">\n       <div class="'+W.CAPTION_SVCNAME+'"></div>\n       <div class="'+W.CAPTION_TITLE+'"></div>\n   </div>',t.insertAdjacentElement("afterbegin",e),e},t.prototype.onUpdate=function(t,e){var i=T(e,"imageData.caption"),n=Y.CAPTION_DESC,r=Y.CAPTION_SVCNAME,o=Y.CAPTION_TITLE;if(this.valid&&null!==i){this.setText(n,T(i,"desc")),this.setText(r,T(i,"svcName")),this.setText(o,T(i,"title"));var s=T(i,"link");s?this._element.setAttribute("href",s):this._element.setAttribute("href","javascript:void(0);"),this.toggleCaptionDesc(T(i,"desc"))}},t.prototype.setText=function(t,e){var i,n=this._element.querySelector(t);n&&(n.innerHTML=(void 0===(i=e||"")&&(i=""),i.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")))},t.prototype.setValid=function(t){this.valid=t,C(this._element,W.HIDDEN,!t)},t.prototype.toggleCaptionDesc=function(t){var e=this._element.querySelector(Y.CAPTION_DESC),i=document.querySelector(".civ__HiddenCaption");i.innerHTML=t;var n=i.clientHeight;parseInt(e.style.height,10)!==n&&(e.style.height=n+"px")},t.prototype.show=function(){this.updateBg(this._element.parentElement)},t.prototype.hide=function(){},t.prototype.updateBg=function(t){var e=t.getAttribute("data-bg");e&&(O(t,{backgroundColor:e}),t.removeAttribute("data-bg"))},t.prototype.resize=function(){var t=this._element.querySelector(Y.CAPTION_DESC);this.toggleCaptionDesc(t.innerText)},t}(),en=function(t){void 0===t&&(t="");var e=W.LINK_TEXT;return'<span class="'+e+'">\n    <span class="'+e+'">'+t+'</span>\n    <i class="'+W.ICON+'"></i>\n  </span>'},nn=function(){function t(){this.layout=Gi.LINK,this.valid=!1,this._linkData=null}return t.prototype.initialize=function(t){var e=document.createElement("a");return e.setAttribute("class",W.LINK),e.setAttribute("role","button"),e.setAttribute("href","#"),e.setAttribute("target","_blank"),e.innerHTML=en(),t.appendChild(e),e},t.prototype.onUpdate=function(t,e){var i=T(e,"imageData.link"),n=function(t){if(!t)return{};var e=t.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/);return e?{href:t,host:e[1]}:{href:t,host:t}}(i).host;this._linkData=i,this.valid&&null!==i?(t.setAttribute("href",i),t.innerHTML=en(n),this.show(t)):this.hide(t)},t.prototype.setValid=function(t){this.valid=t},t.prototype.show=function(t){this.valid&&null!==this._linkData&&C(t.parentElement,W.HIDDEN,!1)},t.prototype.hide=function(t){C(t.parentElement,W.HIDDEN,!0)},t}(),rn=function(){function t(t){this.options=t,this.layout=Gi.TOOLBAR}return t.prototype.initialize=function(t){var e=t.children[this.options.position],i=this.options.initialize();return e.appendChild(i),i},t.prototype.onClick=function(t){this.options.onClick&&this.options.onClick(t),t.preventDefault()},t}(),on=function(){function t(t){this.options=t,this.layout=Gi.HEADER_BUTTON}return t.prototype.initialize=function(t){var e=document.createElement("A");return e.setAttribute("class",W.HEADER_BUTTON+" "+W.SHARE_BUTTON),e.setAttribute("href","#"),e.setAttribute("role","button"),e.innerHTML='공유<i class="'+W.ICON+'"></i>',t.appendChild(e),this.options.initialize&&this.options.initialize(e),e},t.prototype.onClick=function(t){this.options.onClick&&this.options.onClick(t),t.preventDefault()},t.prototype.hide=function(t){this.options.onClose&&this.options.onClose(t)},t}(),sn=function(u){function n(t){var e=u.call(this)||this;e.root=t,e.plugins=[],e.state={isVisible:!0,hasCustomButton:!1,hasException:!1},e.onPreventEvent=function(t){return t.preventDefault()};var i=Y.HUD_HEADER,n=Y.HUD_HEADER_BUTTON,r=Y.HUD_HEADER_INDICATOR,o=Y.LINK_WRAP,s=Y.HUD_BOTTOM,a=Y.HUD_BOTTOM_TOOLBAR,c=Y.HUD_BOTTOM_TOOLBAR_LIST;return e.layout={HEADER:e.root.querySelector(i),HEADER_BUTTON:e.root.querySelector(n),HEADER_INDICATOR:e.root.querySelector(r),LINK:e.root.querySelector(o),BOTTOM:e.root.querySelector(s),CAPTION:e.root.querySelector(s),TOOLBAR:e.root.querySelector(a+" "+c)},e.add([new Zi({onClick:function(){return e.trigger("close")}}),new Ji({onClick:function(){e.trigger("indexToggle")}}),new nn,new tn]),e.updateBottomHeight(),e}return s(n,u),n.prototype.add=function(t){var e;(e=this.plugins).push.apply(e,t),this.initializePlugin(t)},n.prototype.remove=function(t){var e=this.plugins.indexOf(t);n.destroyPlugin(t),this.plugins.splice(e,1)},n.prototype.initializePlugin=function(t){var i=this;this.state.hasCustomButton=this.plugins.some(function(t){return t instanceof rn}),this.layout.TOOLBAR.parentElement.style.display=this.state.hasCustomButton?"":"none",t.forEach(function(t){var e=i.layout[t.layout];t._element=t.initialize(e),n.activatePlugin(t)})},n.activatePlugin=function(t){t.onClick&&t._element&&!t._onClick&&(t._onClick=t.onClick.bind(t),t._element.addEventListener("click",t._onClick),O(t._element,{opacity:"1",pointerEvents:""})),t.setValid&&(t.setValid(!0),t.show(t._element))},n.deactivatePlugin=function(t){t._onClick&&(t._element.removeEventListener("click",t._onClick),t._onClick=null,O(t._element,{opacity:"0.2",pointerEvents:"none"})),t.setValid&&(t.setValid(!1),t.hide(t._element))},n.destroyPlugin=function(t){n.deactivatePlugin(t),t._element=null},n.prototype.update=function(e){this.plugins.forEach(function(t){t.onUpdate&&t.onUpdate(t._element,e)})},n.prototype.setVisiblePlugin=function(t){var e=t?"show":"hide";this.plugins.forEach(function(t){t[e]&&t[e](t._element)})},n.prototype.setVisible=function(t,e){this.state.isVisible=t,this.setVisiblePlugin(this.state.isVisible),C(this.layout.HEADER,W.HIDE,!t),C(this.layout.BOTTOM,W.HIDE,null!=e?!e:!t)},n.prototype.lockablePlugins=function(){return this.plugins.filter(function(t){return t instanceof on||t instanceof tn||t instanceof rn||t instanceof nn})},n.prototype.setExceptionView=function(t,e){var i=this;(this.state.hasException=t)?(e&&this.trigger("indexToggle"),this.setVisiblePlugin(!1),this.setVisible(!0,!1),this.lockablePlugins().forEach(function(t){n.deactivatePlugin(t),t._element.addEventListener("click",i.onPreventEvent)})):(this.lockablePlugins().forEach(function(t){t._element.removeEventListener("click",i.onPreventEvent),n.activatePlugin(t)}),this.setVisiblePlugin(!0),this.setVisible(!0,!0)),this.update(null)},n.prototype.show=function(t){void 0===t&&(t=!0),this.setVisible(!0,t)},n.prototype.hide=function(){this.setVisible(!1)},n.prototype.toggle=function(){this.state.hasException||this.setVisible(!this.state.isVisible)},n.prototype.resize=function(){this.plugins.forEach(function(t){return t.resize&&t.resize()}),this.updateBottomHeight()},n.prototype.updateBottomHeight=function(){var t=ut,e=ht,i=_(),n=i.isNaverApp,r=i.isTouchHomeButtonIOS;d()&&r&&(n||o())?O(this.layout.BOTTOM,{paddingBottom:t+e+"px"}):O(this.layout.BOTTOM,{paddingBottom:t+"px"})},n.prototype.destroy=function(){this.plugins.forEach(function(t){return n.destroyPlugin(t)}),this.plugins=[],this.state={isVisible:!0,hasCustomButton:!1,hasException:!1}},Object.defineProperty(n.prototype,"visibility",{get:function(){return this.state.isVisible},enumerable:!0,configurable:!0}),n}(r);function an(t){t.preventDefault()}function cn(t,e,i){void 0!==t.removeEventListener?t.removeEventListener(e,i):t.off(e,i)}var un,hn,ln=function(){function i(t){var o=this;this.operators=[],this.onStreamComplete=function(t){o.onNext=null,o.operators=[],o.onComplete&&o.onComplete(t),cn(o.target,o.subscribedType,o.onEventHandler),cn(o.target,o.takeUntilType,o.onStreamComplete)},this.onEventHandler=function(t){if(o.onNext){for(var e=t,i=0,n=o.operators;i<n.length;i++){var r=n[i];switch(r.type){case"map":e=r.functor(e);break;case"filter":if(!r.functor(e))return}}o.onNext(e)}},this.target=t}return i.fromEvent=function(t,e){return new i(t).fromEvent(e)},i.prototype.subscribe=function(t,e){return this.onNext=t,this.onComplete=e,this.validationEvent(this.subscribedType,this.onEventHandler,!0),this.validationEvent(this.takeUntilType,this.onStreamComplete),this},i.prototype.unsubscribe=function(){this.onComplete=null,this.onStreamComplete(null)},i.prototype.fromEvent=function(t){return this.subscribedType=t,this},i.prototype.takeUntil=function(t){return this.takeUntilType=t,this},i.prototype.map=function(t){return this.appendOperator("map",t)},i.prototype.filter=function(t){return this.appendOperator("filter",t)},i.prototype.validationEvent=function(t,e,i){if(void 0===i&&(i=!1),!t&&i)throw new Error("구독할 이벤트 타입이 정의되지 않았습니다.");var n,r,o;n=this.target,r=t,o=e,void 0!==n.addEventListener?n.addEventListener(r,o):n.on(r,o)},i.prototype.appendOperator=function(t,e){return this.operators.push({type:t,functor:e}),this},i}();(hn=un||(un={}))[hn.ESC=27]="ESC",hn[hn.LEFT=37]="LEFT",hn[hn.RIGHT=39]="RIGHT";var pn=gt(function(Wt){!function(o,a,t,g){var s,c=["","webkit","Moz","MS","ms","o"],e=a.createElement("div"),i="function",u=Math.round,v=Math.abs,m=Date.now;function h(t,e,i){return setTimeout(_(t,i),e)}function n(t,e,i){return!!Array.isArray(t)&&(l(t,i[e],i),!0)}function l(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==g)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function r(n,t,e){var r="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,e),n.apply(this,arguments)}}s="function"!=typeof Object.assign?function(t){if(t===g||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==g&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign;var p=r(function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&t[n[r]]===g)&&(t[n[r]]=e[n[r]]),r++;return t},"extend","Use `assign`."),f=r(function(t,e){return p(t,e,!0)},"merge","Use `assign`.");function d(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&s(n,i)}function _(t,e){return function(){return t.apply(e,arguments)}}function y(t,e){return typeof t==i?t.apply(e&&e[0]||g,e):t}function b(t,e){return t===g?e:t}function E(e,t,i){l(A(t),function(t){e.addEventListener(t,i,!1)})}function T(e,t,i){l(A(t),function(t){e.removeEventListener(t,i,!1)})}function I(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return-1<t.indexOf(e)}function A(t){return t.trim().split(/\s+/g)}function P(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function O(t,i,e){for(var n=[],r=[],o=0;o<t.length;){var s=i?t[o][i]:t[o];P(r,s)<0&&n.push(t[o]),r[o]=s,o++}return e&&(n=i?n.sort(function(t,e){return t[i]>e[i]}):n.sort()),n}function C(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((n=(i=c[o])?i+r:e)in t)return n;o++}return g}var D=1;function N(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var S="ontouchstart"in o,k=C(o,"PointerEvent")!==g,R=S&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L="touch",M="mouse",H=25,B=1,U=4,z=8,F=1,V=2,j=4,X=8,G=16,W=V|j,Y=X|G,q=W|Y,$=["x","y"],K=["clientX","clientY"];function Z(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){y(e.options.enable,[e])&&i.handler(t)},this.init()}function Q(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=e&B&&n-r==0,s=e&(U|z)&&n-r==0;i.isFirst=!!o,i.isFinal=!!s,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=J(e));1<r&&!i.firstMultiple?i.firstMultiple=J(e):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=s?s.center:o.center,c=e.center=tt(n);e.timeStamp=m(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=rt(a,c),e.distance=nt(a,c),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==B&&o.eventType!==U||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=it(e.deltaX,e.deltaY);var u=et(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=v(u.x)>v(u.y)?u.x:u.y,e.scale=s?(p=s.pointers,f=n,nt(f[0],f[1],K)/nt(p[0],p[1],K)):1,e.rotation=s?(h=s.pointers,l=n,rt(l[1],l[0],K)+rt(h[1],h[0],K)):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!=z&&(H<a||s.velocity===g)){var c=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,h=et(a,c,u);n=h.x,r=h.y,i=v(h.x)>v(h.y)?h.x:h.y,o=it(c,u),t.lastInterval=e}else i=s.velocity,n=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o}(i,e);var h,l;var p,f;var d=t.element;I(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function J(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:u(t.pointers[i].clientX),clientY:u(t.pointers[i].clientY)},i++;return{timeStamp:m(),pointers:e,center:tt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function tt(t){var e=t.length;if(1===e)return{x:u(t[0].clientX),y:u(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:u(i/e),y:u(n/e)}}function et(t,e,i){return{x:e/t||0,y:i/t||0}}function it(t,e){return t===e?F:v(t)>=v(e)?t<0?V:j:e<0?X:G}function nt(t,e,i){i||(i=$);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function rt(t,e,i){i||(i=$);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}Z.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(N(this.element),this.evWin,this.domHandler)}};var ot={mousedown:B,mousemove:2,mouseup:U},st="mousedown",at="mousemove mouseup";function ct(){this.evEl=st,this.evWin=at,this.pressed=!1,Z.apply(this,arguments)}d(ct,Z,{handler:function(t){var e=ot[t.type];e&B&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=U),this.pressed&&(e&U&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:M,srcEvent:t}))}});var ut={pointerdown:B,pointermove:2,pointerup:U,pointercancel:z,pointerout:z},ht={2:L,3:"pen",4:M,5:"kinect"},lt="pointerdown",pt="pointermove pointerup pointercancel";function ft(){this.evEl=lt,this.evWin=pt,Z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(lt="MSPointerDown",pt="MSPointerMove MSPointerUp MSPointerCancel"),d(ft,Z,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=ut[n],o=ht[t.pointerType]||t.pointerType,s=o==L,a=P(e,t.pointerId,"pointerId");r&B&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(U|z)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))}});var dt={touchstart:B,touchmove:2,touchend:U,touchcancel:z};function gt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Z.apply(this,arguments)}d(gt,Z,{handler:function(t){var e=dt[t.type];if(e===B&&(this.started=!0),this.started){var i=function(t,e){var i=w(t.touches),n=w(t.changedTouches);e&(U|z)&&(i=O(i.concat(n),"identifier",!0));return[i,n]}.call(this,t,e);e&(U|z)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:L,srcEvent:t})}}});var vt={touchstart:B,touchmove:2,touchend:U,touchcancel:z},mt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=mt,this.targetIds={},Z.apply(this,arguments)}d(_t,Z,{handler:function(t){var e=vt[t.type],i=function(t,e){var i=w(t.touches),n=this.targetIds;if(e&(2|B)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,o,s=w(t.changedTouches),a=[],c=this.target;if(o=i.filter(function(t){return I(t.target,c)}),e===B)for(r=0;r<o.length;)n[o[r].identifier]=!0,r++;r=0;for(;r<s.length;)n[s[r].identifier]&&a.push(s[r]),e&(U|z)&&delete n[s[r].identifier],r++;return a.length?[O(o.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:L,srcEvent:t})}});var yt=2500;function bt(){Z.apply(this,arguments);var t=_(this.handler,this);this.touch=new _t(this.manager,t),this.mouse=new ct(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);-1<t&&n.splice(t,1)},yt)}}d(bt,Z,{handler:function(t,e,i){var n=i.pointerType==L,r=i.pointerType==M;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(t,e){t&B?(this.primaryTouch=e.changedPointers[0].identifier,Et.call(this,e)):t&(U|z)&&Et.call(this,e)}).call(this,e,i);else if(r&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),s=Math.abs(i-r.y);if(o<=25&&s<=25)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Tt=C(e.style,"touchAction"),It=Tt!==g,xt="compute",At="manipulation",Pt="none",wt="pan-x",Ot="pan-y",Ct=function(){if(!It)return!1;var e={},i=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!i||o.CSS.supports("touch-action",t)}),e}();function Dt(t,e){this.manager=t,this.set(e)}Dt.prototype={set:function(t){t==xt&&(t=this.compute()),It&&this.manager.element.style&&Ct[t]&&(this.manager.element.style[Tt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){y(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(x(t,Pt))return Pt;var e=x(t,wt),i=x(t,Ot);if(e&&i)return Pt;if(e||i)return e?wt:Ot;if(x(t,At))return At;return"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=x(n,Pt)&&!Ct[Pt],o=x(n,Ot)&&!Ct[Ot],s=x(n,wt)&&!Ct[wt];if(r){var a=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(a&&c&&u)return}if(!s||!o)return r||o&&i&W||s&&i&Y?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Nt=1;function St(t){this.options=s({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=Nt,this.simultaneous={},this.requireFail=[]}function kt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Rt(t){return t==G?"down":t==X?"up":t==V?"left":t==j?"right":""}function Lt(t,e){var i=e.manager;return i?i.get(t):t}function Mt(){St.apply(this,arguments)}function Ht(){Mt.apply(this,arguments),this.pX=null,this.pY=null}function Bt(){Mt.apply(this,arguments)}function Ut(){St.apply(this,arguments),this._timer=null,this._input=null}function zt(){Mt.apply(this,arguments)}function Ft(){Mt.apply(this,arguments)}function Vt(){St.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function jt(t,e){return(e=e||{}).recognizers=b(e.recognizers,jt.defaults.preset),new Xt(t,e)}St.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Lt(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)||(t=Lt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return-1===P(e,t=Lt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=Lt(t,this);var e=P(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var i=this,t=this.state;function n(t){i.manager.emit(t,e)}t<8&&n(i.options.event+kt(t)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),8<=t&&n(i.options.event+kt(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Nt)))return!1;t++}return!0},recognize:function(t){var e=s({},t);if(!y(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Nt),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},d(Mt,St,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(i&z||!r)?16|e:n||r?i&U?8|e:2&e?4|e:2:32}}),d(Ht,Mt,{defaults:{event:"pan",threshold:10,pointers:1,direction:q},getTouchAction:function(){var t=this.options.direction,e=[];return t&W&&e.push(Ot),t&Y&&e.push(wt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(n=e.direction&W?(r=0===o?F:o<0?V:j,i=o!=this.pX,Math.abs(t.deltaX)):(r=0===s?F:s<0?X:G,i=s!=this.pY,Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return Mt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Rt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),d(Bt,Mt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Pt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),d(Ut,St,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(U|z)&&!r)this.reset();else if(t.eventType&B)this.reset(),this._timer=h(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&U)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&U?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}}),d(zt,Mt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Pt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),d(Ft,Mt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:W|Y,pointers:1},getTouchAction:function(){return Ht.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(W|Y)?e=t.overallVelocity:i&W?e=t.overallVelocityX:i&Y&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&v(e)>this.options.velocity&&t.eventType&U},emit:function(t){var e=Rt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),d(Vt,St,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[At]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&B&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=U)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||nt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),jt.VERSION="2.0.7",jt.defaults={domEvents:!1,touchAction:xt,enable:!0,inputTarget:null,inputClass:null,preset:[[zt,{enable:!1}],[Bt,{enable:!1},["rotate"]],[Ft,{direction:W}],[Ht,{direction:W},["swipe"]],[Vt],[Vt,{event:"doubletap",taps:2},["tap"]],[Ut]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Xt(t,e){var i;this.options=s({},jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(k?ft:R?_t:S?bt:ct))(i,Q),this.touchAction=new Dt(this,this.options.touchAction),Gt(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Gt(i,n){var r,o=i.element;o.style&&(l(i.options.cssProps,function(t,e){r=C(o.style,e),o.style[r]=n?(i.oldCssProps[r]=o.style[r],t):i.oldCssProps[r]||""}),n||(i.oldCssProps={}))}Xt.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(r=e.curRecognizer=i),o++}},get:function(t){if(t instanceof St)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(n(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=P(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==g&&e!==g){var i=this.handlers;return l(A(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==g){var i=this.handlers;return l(A(t),function(t){e?i[t]&&i[t].splice(P(i[t],e),1):delete i[t]}),this}},emit:function(t,e){var i,n,r;this.options.domEvents&&(i=t,n=e,(r=a.createEvent("Event")).initEvent(i,!0,!0),(r.gesture=n).target.dispatchEvent(r));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},destroy:function(){this.element&&Gt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(jt,{INPUT_START:B,INPUT_MOVE:2,INPUT_END:U,INPUT_CANCEL:z,STATE_POSSIBLE:Nt,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:F,DIRECTION_LEFT:V,DIRECTION_RIGHT:j,DIRECTION_UP:X,DIRECTION_DOWN:G,DIRECTION_HORIZONTAL:W,DIRECTION_VERTICAL:Y,DIRECTION_ALL:q,Manager:Xt,Input:Z,TouchAction:Dt,TouchInput:_t,MouseInput:ct,PointerEventInput:ft,TouchMouseInput:bt,SingleTouchInput:gt,Recognizer:St,AttrRecognizer:Mt,Tap:Vt,Pan:Ht,Swipe:Ft,Pinch:Bt,Rotate:zt,Press:Ut,on:E,off:T,each:l,merge:f,extend:p,assign:s,inherit:d,bindFn:_,prefixed:C}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=jt,"function"==typeof g&&g.amd?g(function(){return jt}):Wt.exports?Wt.exports=jt:o.Hammer=jt}(window,document)});function fn(t,e){return t.top<e.top||(t.bottom>e.bottom||(t.left<e.left||t.right>e.right))}function dn(t,e){if(!fn(t,e))return null;var i,n,r,o,s,a=(i=Math.max(0,e.top-t.top),n=Math.max(0,e.left-t.left),r=Math.min(0,e.bottom-t.bottom),o=Math.min(0,e.right-t.right),(s=new dt).top=i,s.left=n,s.bottom=r,s.right=o,s);return 0<a.left&&a.right<0&&(a.left=0,a.right=0),0<a.top&&a.bottom<0&&(a.top=0,a.bottom=0),0!==a.left||0!==a.right||0!==a.top||0!==a.bottom?a:null}var gn=function(){function t(){this._matrix=[],this.invalidate=!0,this.identity()}return t.prototype.identity=function(){this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.radian=0,this.pivotX=0,this.pivotY=0,this.invalidate=!0},t.prototype.toLocal=function(t){return e=this.matrix,i=t,n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=i.x,h=i.y,{x:s*(l=1/(n*s-r*o))*u+-o*l*h+(c*o-a*s)*l,y:n*l*h+-r*l*u+(-c*n+a*r)*l};var e,i,n,r,o,s,a,c,u,h,l},t.prototype.toGlobal=function(t){return e=this.matrix,n=(i=t).x,r=i.y,{x:e[0]*n+e[2]*r+e[4],y:e[1]*n+e[3]*r+e[5]};var e,i,n,r},t.prototype.setTransformOrigin=function(t,e){if(this.pivotX!==t||this.pivotY!==e){var i=t-this.pivotX,n=e-this.pivotY,r=this.getLocalTranslation(i,n),o=r.x,s=r.y;this.pivotX=t,this.pivotY=e,this.x+=o,this.y+=s}},t.prototype.getLocalTranslation=function(t,e){var i=0===this.radian?1:Math.cos(this.radian),n=0===this.radian?0:Math.sin(this.radian),r=i*this.scaleX,o=n*this.scaleX;return{x:r*t+-n*this.scaleY*e,y:o*t+i*this.scaleY*e}},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.invalidate&&(!function(t,e){var i=t.x,n=void 0===i?0:i,r=t.y,o=void 0===r?0:r,s=t.scaleX,a=void 0===s?1:s,c=t.scaleY,u=void 0===c?1:c,h=t.pivotX,l=void 0===h?0:h,p=t.pivotY,f=void 0===p?0:p,d=t.radian,g=void 0===d?0:d;void 0===e&&(e=[]);var v=0===g?1:Math.cos(g),m=0===g?0:Math.sin(g),_=v*a,y=m*a,b=-m*u,E=v*u,T=-_*l-b*f+n,I=-y*l-E*f+o;e[0]=_,e[1]=y,e[2]=b,e[3]=E,e[4]=T,e[5]=I}(this,this._matrix),this.invalidate=!1),this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatrix",{get:function(){return"matrix("+this.matrix.join(",")+")"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatrix3d",{get:function(){var t=new Array(16).fill(0);return t[0]=this.matrix[0],t[5]=this.matrix[3],t[12]=this.matrix[4],t[13]=this.matrix[5],t[15]=1,"matrix("+t.join(",")+")"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssTranslate",{get:function(){var t=_(),e=t.useCss3d,i=t.isIOS;return e&&!i?"\n    translate3d(\n      "+(this.x-this.pivotX*this.scaleX)+"px,\n      "+(this.y-this.pivotY*this.scaleY)+"px,\n      0px)\n    scale3d("+this.scaleX+", "+this.scaleY+", 1)\n    ":"\n      translate(\n        "+(this.x-this.pivotX*this.scaleX)+"px,\n        "+(this.y-this.pivotY*this.scaleY)+"px)\n      scale("+this.scaleX+")\n      "},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){t!==this._x&&(this.invalidate=!0,this._x=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){t!==this._y&&(this.invalidate=!0,this._y=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){t!==this._scaleX&&(this.invalidate=!0,this._scaleX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){t!==this._scaleY&&(this.invalidate=!0,this._scaleY=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pivotX",{get:function(){return this._pivotX},set:function(t){t!==this._pivotX&&(this.invalidate=!0,this._pivotX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pivotY",{get:function(){return this._pivotY},set:function(t){t!==this._pivotY&&(this.invalidate=!0,this._pivotY=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radian",{get:function(){return this._radian},set:function(t){t!==this._radian&&(this.invalidate=!0,this._radian=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return 180*this._radian/Math.PI},set:function(t){this.radian=t*Math.PI/180},enumerable:!0,configurable:!0}),t}(),vn=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.onTick=function(t){i._running&&(e.trigger("tick",{type:"tick",time:t}),requestAnimationFrame(e.onTick))},e}return s(i,t),i.start=function(){i.running&&i.stop(),i._running=!0,requestAnimationFrame(i.shared.onTick),i.shared.trigger("start")},i.stop=function(){i._running=!1,i.shared.trigger("stop")},Object.defineProperty(i,"shared",{get:function(){return i.ticker=i.ticker||new i},enumerable:!0,configurable:!0}),Object.defineProperty(i,"running",{get:function(){return i._running},enumerable:!0,configurable:!0}),i._running=!1,i}(r);var mn=pn.STATE_RECOGNIZED,_n=pn.INPUT_END,yn=pn.INPUT_START,bn=pn.STATE_FAILED,En=pn.STATE_BEGAN,Tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime<i.time;if(this.reset(),t.eventType&yn&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!==_n)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||function(t,e,i){void 0===i&&(i=["x","y"]);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return setTimeout(function(){e.state=mn,e.tryEmit()},10),En}return bn},e}(pn.Tap);function In(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(t){return i=t.srcEvent,{x:(e={pageX:(n=(r=i).touches&&r.touches.length?r.touches[0]:r.changedTouches&&r.changedTouches.length?r.changedTouches[r.changedTouches.length-1]:{}).pageX||r.pageX||0,pageY:n.pageY||r.pageY||0}).pageX,y:e.pageY};var e,i,n,r})}function xn(t){return-(Math.cos(Math.PI*t)-1)/2}function An(t,e){var i=e.toGlobal({x:0,y:0}),n=e.toGlobal({x:t.width,y:t.height});return new dt(i.x+t.x,i.y+t.y,n.x-i.x,n.y-i.y)}var Pn,wn,On=function(i){function o(t,e){void 0===e&&(e={});var a=i.call(this)||this;return a.gestureArea=t,a._transform=new gn,a.onSwipe=function(t){a.trigger("swipe",t)},a.onTap=function(t){a.trigger("tap",t)},a.onSingleTap=function(t){a.trigger("singletap",t)},a.onDoubleTap=function(t){a.trigger("doubletap",t)&&a.handleDoubleTapTransform(t.center)},a.onPanStart=function(t){var e=et;if(o.isIOS){if(t.srcEvent.pageX<e)return void a.trigger("lockFlicking");1===a.scale&&a.trigger("unlockFlicking")}a.trigger("panstart",t);var i=h({},t),n=[],r=t.center;vn.stop(),ln.fromEvent(a.hammer,"pan").takeUntil("panend").subscribe(function(t){var e=t.center;n.push([e.x-r.x,e.y-r.y]),3<n.length&&n.shift(),a.onPan(i,r,t),r=e},function(t){1<a.scale?a.throwImage(n):a.onPanEnd(i,t),a.trigger("panend",{gestureEvent:t})})},a.onPinchStart=function(t){if(a.trigger("pinchstart",t)){a._state.isPlayingAnimation&&(a._state.isPlayingAnimation=!1,vn.stop());var e=a.scale,i=t.scale,n=t.center,r=a.transform.toLocal({x:t.center.x-a.originRect.left,y:t.center.y-a.originRect.top}),o=r.x,s=r.y;a.transform.setTransformOrigin(o,s),ln.fromEvent(a.hammer,"pinch").takeUntil("pinchend").subscribe(function(t){a.pinch(a.image,e,i,n,t),i=t.scale,n=t.center},function(){return a.pinchUp()})}},a._options=E({maxScaleInZoom:2.5,maxScaleDoubleTapDetectRatio:.8,durationOnDoubleTap:250,durationOnThrowing:1e3,durationOnAlign:150,maxVelocityThrowing:750,elasticMod:.45,friction:.95,boundingFriction:.75,longPressInterval:300,doubletapInterval:150,exitGestureDistance:100},e),a._state=E({isPlayingAnimation:!1,timeAnimStarted:0}),a.initHammer(),a}return s(o,i),Object.defineProperty(o.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t},enumerable:!0,configurable:!0}),o.prototype.initHammer=function(){this.hammer=new pn.Manager(this.gestureArea,{recognizers:[[Tn,{event:"doubletap",taps:2,threshold:3,posThreshold:20}],[pn.Tap,{event:"singletap",interval:this._options.doubletapInterval}],[pn.Tap],[pn.Pan],[pn.Press,{time:this._options.longPressInterval}],[pn.Swipe,{direction:pn.DIRECTION_VERTICAL}],[pn.Pinch]]}),this.hammer.get("doubletap").recognizeWith("tap"),this.hammer.get("singletap").requireFailure("doubletap"),this.hammer.get("singletap").recognizeWith("tap"),this.hammer.get("swipe").recognizeWith("pan"),this.hammer.on("tap",this.onTap),this.hammer.on("singletap",this.onSingleTap),this.hammer.on("doubletap",this.onDoubleTap),this.hammer.on("panstart",this.onPanStart),this.hammer.on("swipe",this.onSwipe),this.hammer.on("pinchstart",this.onPinchStart)},o.prototype.clearHammer=function(){this.hammer&&(this.hammer.get("tap").dropRequireFailure("singletap"),this.hammer.get("singletap").dropRequireFailure("doubletap"),this.hammer.get("doubletap").dropRecognizeWith("singletap"),this.hammer.get("singletap").dropRecognizeWith("tap"),this.hammer.get("swipe").dropRecognizeWith("pan"),this.hammer.off("tap",this.onTap),this.hammer.off("singletap",this.onSingleTap),this.hammer.off("doubletap",this.onDoubleTap),this.hammer.off("panstart",this.onPanStart),this.hammer.off("swipe",this.onSwipe),this.hammer.off("pinchstart",this.onPinchStart))},o.prototype.handleDoubleTapTransform=function(t){var r=this,e=this.transform.toLocal({x:t.x-this.originRect.left,y:t.y-this.originRect.top}),i=e.x,n=e.y;this.transform.setTransformOrigin(i,n);var o=this.scale,s=1<o?1:this.maxScaleDoubleTap,a=o<s?1:-1;vn.start(),ln.fromEvent(vn.shared,"tick").takeUntil("stop").subscribe(function(t){r._state.isPlayingAnimation||(r._state.isPlayingAnimation=!0,r._state.timeAnimStarted=t.time);var e=(t.time-r._state.timeAnimStarted)/r._options.durationOnDoubleTap;1<e&&(e=1);var i=o+(s-o)*xn(e);0<a?s<i&&(i=s):i<s&&(i=s),r.scale=i;var n=An(r.originRect,r.transform);r.alignTransform(n),r.updateTransform(!0),1<=e&&vn.stop()},function(){r._state.isPlayingAnimation=!1,r.trigger("doubletapend")})},o.prototype.onPan=function(t,e,i){if(t.srcEvent.target){var n=In(t,i),r=n[0],o=B(n[1],r);1<this.scale?this.onImageDrag(this._image,e,i.center):t.direction===pn.DIRECTION_DOWN&&this.trigger("exitgesture",{translate:Math.max(0,o.y),gestureEvent:i})}},o.prototype.onImageDrag=function(t,e,i,n){void 0===n&&(n=this._options.elasticMod);var r,o,s=An(this.originRect,this.transform),a=dn(this.viewport,s),c=!(r=a)||0===r.top&&0===r.bottom?1:n,u=!(o=a)||0===o.left&&0===o.right?1:n,h=i.x-e.x,l=i.y-e.y,p=this.viewport.right-this.viewport.left,f=this.viewport.bottom-this.viewport.top;s.width>p&&(this.transform.x+=u*h),s.height>f&&(this.transform.y+=c*l),this.updateTransform()},o.prototype.onPanEnd=function(t,e){var i=In(t,e),n=i[0],r=i[1];this.trigger("exitgestureEnd",{gestureEvent:e,translate:Math.max(0,B(r,n).y)})},o.prototype.throwImage=function(t){var n=this,e=t.length;if(0!==e){var i=this._options,r=i.friction,o=i.boundingFriction,s=t.reduce(function(t,e){var i=t[0],n=t[1];return[i+e[0],n+e[1]]},[0,0]),a=s[0],c=s[1],u=An(this.originRect,this.transform);(a/=e)>this._options.maxVelocityThrowing&&(a=this._options.maxVelocityThrowing),u.width<=this._viewport.width&&(a=0),(c/=e)>this._options.maxVelocityThrowing&&(c=this._options.maxVelocityThrowing),u.height<=this._viewport.height&&(c=0),vn.start(),ln.fromEvent(vn.shared,"tick").takeUntil("stop").subscribe(function(t){n._state.isPlayingAnimation||(n._state.isPlayingAnimation=!0,n._state.timeAnimStarted=t.time);var e=(t.time-n._state.timeAnimStarted)/n._options.durationOnThrowing,i=Math.max(Math.min(1,1-e),0);fn(n.viewport,An(n.originRect,n.transform))&&(a*=o,c*=o),a*=r,c*=r,a*=i,c*=i,n.transform.x+=a,n.transform.y+=c,n.updateTransform(),(Math.abs(a)<1&&Math.abs(c)<1||1<=e)&&vn.stop()},function(){n._state.isPlayingAnimation=!1,n.alignAnimate()})}},o.prototype.pinch=function(t,e,i,n,r,o){void 0===o&&(o=this._options.elasticMod);var s=r.scale-i,a=this.scale+s<1,c=this.scale+s>this.maxScalePinch,u=a||c?o:1*e;this.scale+=u*s,this.onImageDrag(t,n,r.center)},o.prototype.pinchUp=function(){if(this.scale=Math.max(1,Math.min(this.maxScalePinch,this.scale)),1<this.scale){var t=An(this.originRect,this.transform);this.alignTransform(t),this.trigger("pinchcomplete")}else this.transform.identity(),this.trigger("pinchidentity");this.updateTransform()},o.prototype.alignAnimate=function(){var r=this,t=An(this.originRect,this.transform),o=dn(this.viewport,t),s=this.transform.x,a=this.transform.y;o&&(vn.start(),ln.fromEvent(vn.shared,"tick").takeUntil("stop").subscribe(function(t){r._state.isPlayingAnimation||(r._state.isPlayingAnimation=!0,r._state.timeAnimStarted=t.time);var e=(t.time-r._state.timeAnimStarted)/r.options.durationOnAlign,i=o.width*xn(e),n=o.height*xn(e);r.transform.x=s-i*(o.right?1:-1),r.transform.y=a-n*(o.bottom?1:-1),r.updateTransform(),1<=e&&vn.stop()},function(){r._state.isPlayingAnimation=!1}))},o.prototype.alignTransform=function(t){var e=dn(this.viewport,t),i=this.viewport.right-this.viewport.left,n=this.viewport.bottom-this.viewport.top;t.width<i?this.transform.x=(this.image.offsetWidth-t.width)/2+this.transform.getLocalTranslation(this.transform.pivotX,0).x:e&&(this.transform.x+=-(e.left+e.right)),t.height<n?this.transform.y=(this.image.offsetHeight-t.height)/2+this.transform.getLocalTranslation(0,this.transform.pivotY).y:e&&(this.transform.y+=-(e.top+e.bottom))},o.prototype.updateTransform=function(t){if(void 0===t&&(t=!1),this.image){t&&H(this.image,W.TRANSFORM_TWEEN);var e=W.IMAGE_WILL_CHANGE,i=_().isIOS;i&&C(this.image,e,!0),O(this.image,{transform:this.transform.cssTranslate}),i&&2<this.scale&&C(this.image,e,!1)}},o.prototype.setViewportTLBR=function(t){var e=new dt;e.fromTLBR(t.top,t.left,t.bottom,t.right),this._viewport=e},o.prototype.setTargetImage=function(t){this._image=t,this.reset(!0)},o.prototype.reset=function(t){this.updateIdentityValue(),this.resetIdentityPosition(),this.resetImageAttr(),vn.stop(),t||this.trigger("reset")},o.prototype.resetImageAttr=function(){this.image&&this.image.removeAttribute("width")},o.prototype.resetIdentityPosition=function(){this.transform.identity(),this.updateTransform(!0)},o.prototype.updateIdentityValue=function(){this.resetOriginRect(),this.resetViewport()},o.prototype.resetViewport=function(){var t=new dt;t.fromTLBR(0,0,window.innerHeight,window.innerWidth),this._viewport=t},Object.defineProperty(o.prototype,"viewport",{get:function(){return this._viewport||this.resetViewport(),this._viewport},set:function(t){this._viewport=t},enumerable:!0,configurable:!0}),o.prototype.resetOriginRect=function(){if(this.image){var t=new dt;t.fromClientRect(this.image.getBoundingClientRect()),this._originRect=t}},Object.defineProperty(o.prototype,"originRect",{get:function(){return this._originRect||this.resetOriginRect(),this._originRect},set:function(t){this._originRect=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"image",{get:function(){return this._image},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"scale",{get:function(){return this.transform.scaleX},set:function(t){this.transform.scaleX=t,this.transform.scaleY=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fitViewportScale",{get:function(){return this.viewport.width/this.originRect.width},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maxScale",{get:function(){return this.isImageLargerThanViewport?this.fitViewportScale*this._options.maxScaleInZoom:this._options.maxScaleInZoom},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maxScalePinch",{get:function(){return this.maxScale},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maxScaleDoubleTap",{get:function(){return this.scale<this.fitViewportScale&&this.isVerticalImageNeedToFit?this.fitViewportScale:this.maxScale},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isImageLargerThanViewport",{get:function(){return this.originRect.width+1>this.viewport.width||this.originRect.height+1>this.viewport.height},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isVerticalImageNeedToFit",{get:function(){return this.isImageLargerThanViewport&&this.originRect.width<this.originRect.height&&this.originRect.width/this.viewport.width<this._options.maxScaleDoubleTapDetectRatio},enumerable:!0,configurable:!0}),o.isIOS=_().isIOS,o}(r),Cn=function(o){function t(t,e){void 0===e&&(e={});var i,n,r,c=o.call(this)||this;return c.model=t,c.isExitGestureStart=!1,c.useVerticalGesture=!0,c.resizeHeight=function(t){void 0===t&&(t=!0),c.state.width=u.innerWidth,c.state.height=u.innerHeight,O(c.el,{height:c.state.height+1+"px"}),c.browserInfo.isIOS&&t&&setTimeout(function(){u.scrollTo(0,1)},10),c.gesture.reset(!0)},c._beforeFlickStart=function(t){var e=t.direction;e===Li.Next?c.model.moveNext():e===Li.Prev&&c.model.movePrev(),c.flicking.setPanelPadding(!c.imageIndex.visibility)},c._onFlick=function(){c.timer&&u.clearTimeout(c.timer)},c._onFlickEnd=function(){c._imageWrap=c.flicking.getElement().querySelector(Y.IMAGE_WRAP),c._image=c._imageWrap.querySelector("img"),c._placeImages(),c.gesture&&c.gesture.setTargetImage(c._image),c.changeActivePanel(),c.trigger(Pn.FLICK),c.imageIndex.currentIndex=c.model.getIndex()},c.onKeyDown=function(t){switch(t.keyCode){case un.ESC:c.close();break;case un.LEFT:!c.model.isFirst()&&c.flicking.movePrev();break;case un.RIGHT:!c.model.isLast()&&c.flicking.moveNext()}},c.onResize=function(){u.clearTimeout(c.timer),c.flicking.restore(0),c.timer=u.setTimeout(function(){c.resize(!0)},100),c.imageIndex.updateVisibleWidth(),O(c.el,"opacity")<1&&c.close()},c.onPopstate=function(){c.close(null,!1)},c.onDataChange=function(){var t=c.model.getIndex();c._placeImages(t),c.imageIndex&&(c.imageIndex.imageDataList=c.model.getData())},c.onIndexChanged=function(t){c.exceptionView.close(),c.updateImageIndex(t.newIndex+1),c.state.usePushState&&u.history.replaceState(t.newIndex,null,c._options.urlCallback(t.newIndex)),c.trigger(Pn.INDEX_CHANGE,{dataIndex:t.newIndex,data:c.model.getCurrent()})},c.onToggleImageIndex=function(){var t=c.imageIndex.visibility,e=Pn.INDEX_OPEN,i=Pn.INDEX_CLOSE;c.shrinkImageLayout(),c.setVerticalPanTracking(!t&&!c.exceptionView.isVisible()),c.pluggableHUD.show(!t),c.trigger(t?e:i),c.updateImageIndex(c.model.getIndex()+1)},c.onClickImageIndex=function(t){c._placeImages(t.listIndex),c.trigger(Pn.INDEX_CLICK)},c.onToggleIndex=function(){c.imageIndex.toggle(),c.gesture.resetIdentityPosition(),c.flicking.setPanelPadding(!c.imageIndex.visibility)},c.onSingleTap=function(t){var e=t.srcEvent.target;e&&M(e,Y.IMAGE_PANEL)&&(c.exceptionView.isVisible()?c.exceptionView.trigger("reload"):c.imageIndex.visibility?c.imageIndex.toggle(!1):(bt.shared.hide(),c.pluggableHUD.toggle()))},c.onDoubleTap=function(t){t.srcEvent.target?c.exceptionView.isVisible()||c.imageIndex.visibility&&(c.imageIndex.hide(),t.stop()):t.stop()},c.onDoubleTapEnd=function(){1<c.gesture.scale?(c.flicking.disableInput(),c.pluggableHUD.hide(),c._changeThumbToOrgImg()):(c.pluggableHUD.show(),c.flicking.enableInput())},c.onSwipeVertical=function(t){if(!(1<c.gesture.scale)&&c.pluggableHUD.visibility&&c.useVerticalGesture){var e=t.offsetDirection===Hammer.DIRECTION_DOWN,i=c.imageIndex.visibility;i&&e?c.imageIndex.toggle(!1):i||e||c.imageIndex.toggle(!0)}},c.onLockFlicking=function(){c.flicking.disableInput()},c.onUnlockFlicking=function(){c.flicking.enableInput()},c.onPinchStart=function(t){c.setVerticalPanTracking(!1);var e=t.scale<1;if(c.imageIndex.visibility)return!e&&c.imageIndex.hide(),void t.stop();c.pluggableHUD.hide(),c.imageIndex.hide(),c.flicking.disableInput()},c.onPinchIdentity=function(){c.pluggableHUD.show(),c.flicking.enableInput(),c.setVerticalPanTracking(!0)},c.onPinchComplete=function(){c.setVerticalPanTracking(!0),c._changeThumbToOrgImg(),c.pluggableHUD.visibility&&c.gesture.reset()},c._onResetGesture=function(){c.flicking.enableInput(),u.clearTimeout(c.timer)},c._onExitGestureProcess=function(t){var e=c,i=e.ghostImage,n=e._image,r=t.translate,o=i.getElement();c.isExitGestureStart||(c.uncover(),c.pluggableHUD.hide(),O(c._image,{visibility:"hidden"}),i.prepare(n.getBoundingClientRect(),n.src,!0),c.flicking.disableInput(),c.isExitGestureStart=!0),O(c.el,{opacity:Math.max(.3,1-Math.abs(r)/(2*c.state.height/3))}),O(o,{transform:A(r)})},c._onExitGestureComplete=function(t){if(c.isExitGestureStart){var e=c.ghostImage,i=e.getElement(),n=t.translate;if(Math.abs(n)>=c.gesture.options.exitGestureDistance)c.close(null,!0,n);else if(!c.state.isPlaying){c.state.isPlaying=!0;var r=i.getBoundingClientRect(),o=new dt;o.fromClientRect(r),o.top-=n,e.prepare(r,i.src);var s=function(){O(c.el,{opacity:1}),c.cover(),c.flicking.enableInput(),c.pluggableHUD.show(),c.isExitGestureStart=!1,c.state.isPlaying=!1},a=setTimeout(s,300);e.buildOut(o,function(){clearTimeout(a),s()})}}},c._changeThumbToOrgImg=(i=function(){var t=c._image,e=t.src,n=t.width,r=F(c.model.getCurrent().orgUrl),i=decodeURIComponent(r);i!==decodeURIComponent(e)&&i!==decodeURIComponent(V.getCurrentImageSrc())&&V.start(r,function(t){var e=F(c.model.getCurrent().orgUrl),i=decodeURIComponent(e);decodeURIComponent(t)===i&&(c._image.width=n,c._image.src=r)})},n=it,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];clearTimeout(r),r=window.setTimeout(function(){i.apply(this,t)},n)}),c._options=E({},e),c.initialize(),c.listenModel(),c._options.useScrollSync&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),c}return s(t,o),t.prototype.initialize=function(){this.root=this._options.root,this.list=this._options.list,this.state={scrollY:0,centerY:0,width:0,height:0,isPlaying:!1,usePushState:!1,rootOverflow:O(this.root,"overflow")},this.browserInfo=_(),this.setPushState();var t=f.createElement("div");t.innerHTML='\x3c!-- [D] 슬라이드 이미지에 따라서 배경색상 변경 [ 기본값 : rgba(27, 27, 30, 1) / #1b1b1e ]--\x3e\n\x3c!-- [D] civ--dimmed 클래스 토글--\x3e\n<div class="civ" style="background-color:#1b1b1e; display:none">\n\n    \x3c!-- 상단영역 --\x3e\n    \x3c!-- [D] civ__is-closed 클래스 토글 --\x3e\n    <header class="civ__header _civ_hud civ__is-closed"> \x3c!-- HEADER.parent --\x3e\n        <div class="civ__header__btn_wrap"> \x3c!-- HEADER.el --\x3e\n        </div>\n        <a class="civ__header__number civ__open" href="javascript:void(0);" role="button"> \x3c!-- INDEX --\x3e\n        </a>\n    </header>\n\n    \x3c!-- [D] civ__is-hidden 클레스 토글 --\x3e\n    <div class="civ__content">\n        \x3c!-- [D] index모드 civ__panel--index 클래스 토글 --\x3e\n        \x3c!-- [D] vr일때 civ__panel--360 클래스 토글 --\x3e\n        <div class="civ__panel">\n                <div class="civ__img_wrap">\n                    <img class="civ__img">\n                </div>\n                <div class="civ__placeholder--loading" style="display: none;">\n                    <span class="civ__dot"></span>\n                    <span class="civ__dot civ__dot1"></span>\n                    <span class="civ__dot civ__dot2"></span>\n                </div>\n        </div>\n        <div class="civ__panel">\n                <div class="civ__img_wrap">\n                    <img class="civ__img">\n                </div>\n                <div class="civ__placeholder--loading" style="display: none;">\n                    <span class="civ__dot"></span>\n                    <span class="civ__dot civ__dot1"></span>\n                    <span class="civ__dot civ__dot2"></span>\n                </div>\n        </div>\n        <div class="civ__panel">\n                <div class="civ__img_wrap">\n                    <img class="civ__img">\n                </div>\n                <div class="civ__placeholder--loading" style="display: none;">\n                    <span class="civ__dot"></span>\n                    <span class="civ__dot civ__dot1"></span>\n                    <span class="civ__dot civ__dot2"></span>\n                </div>\n        </div>\n    </div>\n\n    \x3c!-- [D] link가 있을경우 추가--\x3e\n    <div class="civ__url_wrap"></div> \x3c!-- LINK.el --\x3e\n\n    \x3c!-- 하단영역 --\x3e\n    \x3c!-- [D] civ__is-closed 클래스 토글 --\x3e\n    <section class="civ__info  civ__is-closed">\n      <div class="civ__toolbar"> \x3c!-- TOOLBAR.el --\x3e\n        <ul class="civ__list">\n          <li class="civ__item"></li>\n          <li class="civ__item"></li>\n          <li class="civ__item"></li>\n          <li class="civ__item"></li>\n          <li class="civ__item"></li>\n        </ul>\n      </div>\n    </section>\n    \x3c!-- [D] civ__is-closed 클래스 토글 --\x3e\n    <div class="civ__toast civ__is-closed"></div>\n\n    \x3c!-- [D] civ__is-closed 클래스 토글 --\x3e\n    <section class="civ__index civ__is-closed" style="display:none">\n        <ul class="civ__thumbs"></ul>\n    </section>\n\n    \x3c!-- 더보기 메뉴 영역은 추후 구현예정--\x3e\n    \x3c!-- [D] civ__is-closed 클래스 토글  --\x3e\n    <section class="civ__menu--more civ__is-closed">\n        <ul class="civ__list">\n            \x3c!-- <li><a class="civ__link" href="#" role="button">원본 저장하기</a></li>\n            <li><a class="civ__link" href="#" role="button">신고하기</a></li> --\x3e\n        </ul>\n        <button class="civ__btn" type="button">닫기</button>\n    </section>\n\n    \x3c!-- 동적으로 변경되는 캡션 높이를 미리 잡아두기 위한 영역 --\x3e\n    <div class="civ__HiddenCaption"></div>\n</div>\n',this.useVerticalGesture=!this.browserInfo.isLowerAndroidBrowserVersion;var e=t.querySelector(Y.ROOT);this.root.appendChild(e),this.el=e,this.ghostImage=new Ki,this.ghostImage.appendTo(this.root),this.imagePanel=e.querySelector(Y.IMAGE_PANEL),bt.init(this.el),this.initElementPosition(),this.initImageIndex(),this.initGesture(),this.initExceptionView(),this.initFlicking(),this.initPluggableHUD(),this.applyDominantColor()},t.prototype.setPushState=function(){var t=this.browserInfo.usePushState;this._options.urlCallback&&(this.state.usePushState=t)},t.prototype.initElementPosition=function(){y(this.list.querySelectorAll("img")).forEach(function(t){t.dataset.top=t.getBoundingClientRect().top})},t.prototype.initPluggableHUD=function(){var t=this;this.pluggableHUD=new sn(this.el).on({close:function(){return t.close()},indexToggle:this.onToggleIndex})},t.prototype.show=function(t){var e=this;this.state.scrollY=R().scrollTop,this.isExitGestureStart=!1,this.exceptionView.close(),O(this._image,{visibility:"hidden"}),O(this.el,{visibility:"visible",display:"block",transform:"translate(0, "+this.state.scrollY+"px, 0)",opacity:0}),this._placeImages(t),this.resize(!1);var i=this.getImgFromList(t);this.pluggableHUD.show(),i?this.buildIn(i,function(){return e.activate()}):this.activate()},t.prototype.hide=function(t,e){var i=this,n=function(){O(t,{visibility:"visible"}),O(i.list,{transform:null}),O(i.el,{transform:null,display:"none"}),u.scrollTo(0,i.state.centerY),i._image.src=$,i.state.usePushState&&e.isGoBack&&u.history.back(),i.trigger(Pn.CLOSE),i.browserInfo.isNaverApp&&(i.browserInfo.isIOS&&(u.naverapp_sizeChange_response=function(){}),location.href=K),i.state.isPlaying=!1};if(0!==e.gestureDistance){var r=function(){i.ghostImage.hide(),n()},o=this.ghostImage.getElement();O(this._image,{visibility:"hidden"}),O(o,{top:parseFloat(o.style.top)+this.state.centerY+e.gestureDistance+"px",transform:null,opacity:1});var s=setTimeout(r,300);H(this.el,W.FADEOUT,{opacity:0}),H(o,W.FADEHIDE,function(){clearTimeout(s),r()})}else n()},t.prototype.activate=function(){this.cover(),this.gesture.reset(),this.flicking.enableInput(),this.imageIndex.activate(),this.listenEvents(),this.setVerticalPanTracking(!0),this.trigger(Pn.OPEN),this.state.isPlaying=!1},t.prototype.deactivate=function(){this.unlistenEvents(),bt.shared.hide(),this.pluggableHUD.hide(),this.imageIndex.deactivate(),this.exceptionView.close(!0),this.gesture.reset(),this.setVerticalPanTracking(!1),this.flicking.resetPanel()},t.prototype.cover=function(){var t=this.browserInfo,e=t.isIOS,i=t.isNaverApp,n=e&&!i?{display:"none"}:{height:0};u.scrollTo(0,0),O(this._image,{visibility:"visible"}),O(this.list,h({overflow:"hidden",visibility:"hidden",transform:A(-this.state.scrollY)},n))},t.prototype.uncover=function(){var t=this.browserInfo,e=t.isIOS,i=t.isNaverApp,n=e&&!i?{display:"block"}:{height:null};this.state.centerY=this.getCenterY(),O(this.list,h({overflow:null,visibility:null,transform:A(-this.state.centerY)},n))},t.prototype.open=function(t,e){var i=this;if(void 0===e&&(e=!0),!this.state.isPlaying){this.state.isPlaying=!0;var n="number"==typeof t?t:this.model.getIndexByUrl(t.src);this.state.usePushState&&e&&u.history.pushState(n,null,this._options.urlCallback(String(n))),this.browserInfo.isNaverApp?(location.href=Z,setTimeout(function(){return i.show(n)},300)):this.show(n)}},t.prototype.close=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=0),!this.state.isPlaying){this.state.isPlaying=!0,this.deactivate();var n=t||this.getImgFromList(),r=i;this.uncover(),!this.exceptionView.isVisible()&&n||(r=9999),this.hide(n,{isGoBack:e,gestureDistance:r})}},t.prototype.getCenterY=function(){var t=this.getImgFromList();if(this._options.useScrollSync&&t){var e=this.getImgFromList().getBoundingClientRect(),i=(this.state.height-e.height)/2;return Math.max(e.top+this.state.scrollY-i,0)}return this.state.scrollY},t.prototype.resize=function(t){var e=this;this.calculateSize(),this.el&&(this.flicking&&this.flicking.resize(),this.imageIndex&&this.imageIndex.refresh(),this.pluggableHUD&&this.pluggableHUD.resize(),this.shrinkImageLayout(),t?setTimeout(this.resizeHeight,300):this.browserInfo.isIOS?setTimeout(function(){e.resizeHeight(!1)},100):this.resizeHeight(!1))},t.prototype.calculateSize=function(){this.state.width=u.innerWidth,this.state.height=u.innerHeight,this.gesture.reset()},t.prototype.shrinkImageLayout=function(){var t=this.state,e=t.width,i=t.height,n=this._image.height,r=d(),o=r&&this.imageIndex.visibility,s=i===n,a=rt,c=nt,u=function(){if(r&&o){var t=s?i:e;return(t-(s?a:0)-2*c)/t}return 1},h=a+c,l=f.querySelectorAll(Y.FLICK_PANEL),p=this.browserInfo.useCss3d;y(l).forEach(function(t){var e=u();O(t.querySelector(Y.IMAGE_WRAP),p?{transformOrigin:"center "+(s?h:-h/2)+"px",transform:"scale3d("+e+", "+e+", "+e+")"}:{transformOrigin:"center "+(s?h:-h/2)+"px",transform:"scale("+u()+")",willChange:"transform"})})},t.prototype.getImgFromList=function(t){var e=null!=t?this.model.get(t):this.model.getCurrent(),i=null;try{i=f.querySelector(e.selector)}catch(t){console.error("invalid selector",e.selector)}return i},t.prototype.setImageSrcBy=function(s){var a=this,c=this.flicking.panel;Object.keys(c).forEach(function(t){if(Object.prototype.hasOwnProperty.call(c,t)){var e=s[t];if(e){var i=c[t],n=i.querySelector("img"),r=F(e.thumbUrl);if(decodeURIComponent(n.src)!==decodeURIComponent(r)){var o=i.querySelector(Y.IMAGE_PANEL_LOADING);n.setAttribute("data-src",r),w(n),C(n,W.IMAGE_TRANSPARENT_BG,!1),P(o);U(n,function(){w(o),O(n,{display:"inline-block"}),setTimeout(function(){C(n,W.IMAGE_TRANSPARENT_BG,!0)},200),a.updateBgColor(!0)},function(){w(o),a._onImageLoadFail(n)})}}}})},t.prototype.updateBgColor=function(i){var n=this;void 0===i&&(i=!1);var t=this.model.getCurrent(),e=T(t,"dominantColor"),r=T(t,"thumbUrl");if(this.browserInfo.useDominantColor){if(e)return void this.applyDominantColor(function(t){if(!/\d+\|\d+\|\d+/.test(t))throw new Error("알수 없는 형태의 dominantColor 입니다. "+t);return t.match(/\d+/g).map(Number)}(e),i);r&&ft(r,.05,function(t){var e=n.model.getCurrent().thumbUrl;n.model.setDominantColor(r,t),e===r&&n.applyDominantColor(t,i)},function(){return n.applyDominantColor()})}},t.prototype.applyDominantColor=function(c,i){void 0===c&&(c=null),void 0===i&&(i=!1);var t,e=at,u=tt,n=function(t){return c?(i=t/100,n=(e=c)[0],r=e[1],o=e[2],s=Math.sqrt(n*n+r*r+o*o),[(a=441.6729559300637*i)*n/s|0,a*r/s|0,a*o/s|0]):u;var e,i,n,r,o,s,a},r=n(st),o=n(e),s=this.el,a=s.querySelector(Y.HUD_BOTTOM),h=s.querySelector(Y.HUD_HEADER),l=function(t,e){return{backgroundColor:"rgba("+t+", "+e+")"}},p=function(t,e){i?H(t,W.BACKGROUND_TWEEN,e):O(t,e)};p(s,l(r.join(","),1)),p(h,{backgroundImage:"linear-gradient(to bottom, rgba("+(t=r.join(","))+", 0.5), rgba("+t+", 0))"}),D(a,W.HIDE)?a.setAttribute("data-bg","rgba("+r.join(",")+", 0.5)"):p(a,l(r.join(","),.5)),this.imageIndex.updateBgColor(o,i)},t.prototype._placeImages=function(t){if(this.flicking){void 0!==t&&(this.model.setIndex(t),this.imageIndex.currentIndex=t);var e=this.model.getIndex(),i=this.model.dataSet;this.setImageSrcBy(i);var n=0!==e,r=e!==this.model.length-1;this.flicking.prevFlick=n,this.flicking.nextFlick=r,this.shrinkImageLayout()}},t.prototype.buildIn=function(n,r){var o=this,s=this.ghostImage,a=this._image;s.prepare(n.getBoundingClientRect(),n.src),N(a,"error",function(){o._onImageLoadFail(a),o.ghostImage.hide(),O(o.el,{opacity:1}),r()}),N(a,"load",function(){w(o.flicking.getElement().querySelector(Y.IMAGE_PANEL_LOADING));var t=function(){O(n,{visibility:"visible"}),O(o.el,{transform:null}),r()},e=new dt;e.fromClientRect(a.getBoundingClientRect()),e.top+=o.state.scrollY,O(n,{visibility:"hidden"}),O(o.el,{transform:A(o.state.scrollY)}),H(o.el,W.FADEIN,{opacity:1});var i=setTimeout(t,400);s.buildIn(e,function(){clearTimeout(i),t()})})},t.prototype.buildOut=function(t,e){var i=this.ghostImage;O(this._image,{visibility:"hidden"}),O(this.el,{opacity:0});var n=new dt;n.fromClientRect(this._image.getBoundingClientRect()),i.prepare(n,this._image.src),i.buildOut(t.getBoundingClientRect(),e)},t.prototype.initFlicking=function(){var t=new $i(this.imagePanel,{circular:!0,prefix:"_CV_flick",zIndex:10});this._imageWrap=t.getElement().querySelector(Y.IMAGE_WRAP),this._image=this._imageWrap.querySelector("img"),(this.flicking=t).on({beforeFlickStart:this._beforeFlickStart,flick:this._onFlick,flickEnd:this._onFlickEnd}),t.disableInput(),this.imagePanel.style.setProperty("touch-action","none"),this._options.useImgDownload?(this.imagePanel.style.setProperty("-webkit-touch-callout","default","important"),this.imagePanel.style.setProperty("-webkit-user-select","auto","important"),this.imagePanel.style.setProperty("user-select","auto","important")):(this.imagePanel.style.setProperty("-webkit-user-select","none","important"),this.imagePanel.style.setProperty("user-select","none","important")),this.gesture.setTargetImage(this._image),this.changeActivePanel()},t.prototype.changeActivePanel=function(){var t=this.flicking.getElement(),e=this.flicking.getPrevElement(),i=this.flicking.getNextElement();C(t,W.FLICK_PANEL_ACTIVE,!0),C(e,W.FLICK_PANEL_ACTIVE,!1),C(i,W.FLICK_PANEL_ACTIVE,!1)},t.prototype.listenEvents=function(){u.addEventListener("orientationchange",this.onResize),u.addEventListener("resize",this.onResize),u.addEventListener("keydown",this.onKeyDown),this.state.usePushState&&u.addEventListener("popstate",this.onPopstate),this.browserInfo.isIOS&&u.addEventListener("gesturestart",an)},t.prototype.unlistenEvents=function(){this.state.usePushState&&u.removeEventListener("popstate",this.onPopstate),u.removeEventListener("keydown",this.onKeyDown),u.removeEventListener("resize",this.onResize),u.removeEventListener("orientationchange",this.onResize),this.browserInfo.isIOS&&u.removeEventListener("gesturestart",an)},t.prototype.listenModel=function(){var t;this.model.on(((t={})[Pn.INDEX_CHANGE]=this.onIndexChanged,t[Pn.DATA_CHANGE]=this.onDataChange,t))},t.prototype.unlistenModel=function(){this.model.off()},t.prototype.initImageIndex=function(){var t=this,e=new yt(this.el);e.imageDataList=this.model.getData(),this.imageIndex=e,this.imageIndex.on("show",this.onToggleImageIndex),this.imageIndex.on("hide",this.onToggleImageIndex),this.imageIndex.on("hided",function(){t.gesture.resetOriginRect()}),this.imageIndex.on("click",this.onClickImageIndex)},t.prototype._removeImageIndex=function(){this.imageIndex.off(),this.imageIndex.destroy()},t.prototype.updateImageIndex=function(t){this.pluggableHUD.update({index:t,total:this.model.length,imageData:this.model.getCurrent()})},t.prototype.initExceptionView=function(){var i=this,t=new Et(this.el);t.on({render:function(){i.setVerticalPanTracking(!1),i.pluggableHUD.setExceptionView(!0,i.imageIndex.visibility),i.applyDominantColor()},reload:function(){i.exceptionView.close(),i.imageIndex.hide(),i.setVerticalPanTracking(!0),O(i.flicking.getElement().querySelector("img"),{visibility:"visible"}),i._placeImages()},close:function(t){var e=t.closeViewer;i.imageIndex.hide(),e&&O(i.list,{visibility:"visible",overflow:"visible"}),i.setVerticalPanTracking(!i.imageIndex.visibility),i.flicking.isInputDisabled()||i.pluggableHUD.setExceptionView(!1,i.imageIndex.visibility)}}),this.exceptionView=t},t.prototype.initGesture=function(){var t=new On(this.imagePanel,h({viewportWidth:this.state.width,viewportHeight:this.state.height},this._options));t.on({reset:this._onResetGesture,singletap:this.onSingleTap,doubletap:this.onDoubleTap,doubletapend:this.onDoubleTapEnd,pinchstart:this.onPinchStart,pinchidentity:this.onPinchIdentity,pinchcomplete:this.onPinchComplete,swipe:this.onSwipeVertical,lockFlicking:this.onLockFlicking,unlockFlicking:this.onUnlockFlicking}),this.gesture=t},t.prototype.setVerticalPanTracking=function(t){var e=this,i=this.useVerticalGesture&&t?"on":"off";[{name:"exitgesture",handler:this._onExitGestureProcess},{name:"exitgestureEnd",handler:this._onExitGestureComplete}].forEach(function(t){e.gesture[i](t.name,t.handler)})},t.prototype._onImageLoadFail=function(t){t.src=$;var e=this._imageWrap.parentElement;t===this._image&&(O(t,{display:"none"}),this.setVerticalPanTracking(!1),this.exceptionView.render({message:q},e))},t.prototype.destroy=function(){this.unlistenModel(),this.unlistenEvents()},t}(r);return(wn=Pn||(Pn={})).OPEN="open",wn.CLOSE="close",wn.DATA_CHANGE="data_change",wn.INDEX_CHANGE="index_change",wn.INDEX_OPEN="index_open",wn.INDEX_CLOSE="index_close",wn.INDEX_CLICK="index_click",wn.FLICK="flick",{Viewer:function(e){function t(t){var o=e.call(this)||this;return o.bypassEvent=function(t,e){var i=e||t.eventType,n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);o.trigger(i,n)},o.isSupportBrowser=_().supportBrowser,o.options=E({root:document.body,data:[],urlCallback:null,useScrollSync:!0,useImgDownload:!0},t||{}),o.setView(),o}return s(t,e),t.prototype.setView=function(){this.isSupportBrowser?this.view=new Cn(new G(this.options.data),this.options).on(this.getBypassEvents(Object.keys(Pn).map(function(t){return Pn[t]}))):this.view=new pt(this.options)},t.prototype.open=function(t,e){void 0===e&&(e=!0),this.view instanceof Cn?this.view.open(t,e):this.view.open()},t.prototype.close=function(t){this.view instanceof Cn?this.view.close(t):this.view.close()},t.prototype.getCurrent=function(){return this.view instanceof Cn&&this.view.model.getCurrent(),null},t.prototype.addData=function(t){if(this.view instanceof Cn){var e=Array.isArray(t)?t:[t],i=this.view.model.length||0;this.view.model.add(e,i)}},t.prototype.removeData=function(t){this.view instanceof Cn&&this.view.model.remove(t)},t.prototype.addPlugin=function(t){this.view instanceof Cn&&(c(t)?this.view.pluggableHUD.add(t):this.view.pluggableHUD.add([t]))},t.prototype.removePlugin=function(t){this.view instanceof Cn&&this.view.pluggableHUD.remove(t)},t.prototype.getBypassEvents=function(t){var i=this;return t.reduce(function(t,e){return t[e]=i.bypassEvent,t},{})},t}(r),ShareButtonPlugin:on,CustomButtonPlugin:rn}});
//# sourceMappingURL=image-viewer.min.js.map
